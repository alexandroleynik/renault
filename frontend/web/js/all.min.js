function urlencode(a){return encodeURIComponent(a).replace(/%20/g,"+")}function urldecode(a){return uri=decodeURIComponent(a)}function preloadStart(){document.getElementById("loaderImage").style.backgroundImage="url("+cImageSrc+")",document.getElementById("loaderImage").style.width=cWidth+"px",document.getElementById("loaderImage").style.height=cHeight+"px",FPS=Math.round(100/cSpeed),SECONDS_BETWEEN_FRAMES=1/FPS,cPreloaderTimeout=setTimeout("preloadFadeIn()",SECONDS_BETWEEN_FRAMES/1e3)}function preloadFadeIn(){cXpos+=cFrameWidth,cIndex+=1,cIndex>=cTotalFrames&&(cXpos=0,cIndex=0),document.getElementById("loaderImage")&&(document.getElementById("loaderImage").style.backgroundPosition=-cXpos+"px 0"),cPreloaderTimeout=setTimeout("preloadFadeIn()",1e3*SECONDS_BETWEEN_FRAMES),$(".preload-mask").fadeIn()}function preloadStop(){$(".preload-mask").fadeOut(),clearTimeout(cPreloaderTimeout),cPreloaderTimeout=!1,$(".nav-root").removeClass("nav-is-open"),$("html, body").removeClass("nav-is-activated"),$(".nav-container").removeAttr("style")}function preloadLogoEnd(){preloadStop()}function preloadFadeOut(){preloadStop()}function items_array_chunk(a,b){for(var c,d=0,e=-1,f=a.length,g=[];f>d;d++)(c=d%b)?g[e][c]=a[d]:g[++e]=[a[d]];var h=[];return $.each(g,function(a,b){h[a]={items:b}}),h}function translit(a){var b,c={"А":"A","а":"a","Б":"B","б":"b","В":"V","в":"v","Г":"G","г":"g","Д":"D","д":"d","Е":"E","е":"e","Ё":"Yo","ё":"yo","Ж":"Zh","ж":"zh","З":"Z","з":"z","И":"I","и":"i","Й":"Y","й":"y","К":"K","к":"k","Л":"L","л":"l","М":"M","м":"m","Н":"N","н":"n","О":"O","о":"o","П":"P","п":"p","Р":"R","р":"r","С":"S","с":"s","Т":"T","т":"t","У":"U","у":"u","Ф":"F","ф":"f","Х":"Kh","х":"kh","Ц":"Ts","ц":"ts","Ч":"Ch","ч":"ch","Ш":"Sh","ш":"sh","Щ":"Sch","щ":"sch","Ъ":'"',"ъ":'"',"Ы":"Y","ы":"y","Ь":"'","ь":"'","Э":"E","э":"e","Ю":"Yu","ю":"yu","Я":"Ya","я":"ya"},d="";for(b in c)d+=b;return d=new RegExp("["+d+"]","g"),b=function(a){return a in c?c[a]:""},a.replace(d,b)}function toCodeValue(a){return translit(a).replace(/[^\w]/g,"-").toLowerCase()}function is_string(a){return"string"==typeof a}window.fbAsyncInit=function(){FB.init({appId:app.config.frontend_app_facebook_app_id,xfbml:!0,version:"v2.3"})},function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(d,e))}(document,"script","facebook-jssdk"),$(document).ready(function(){$(".inp-decorate").length&&$(".inp-decorate").styler(),$(".single_post_slide_list").length&&$(".single_post_slide_list").cycle({fx:"carousel",carouselVertical:!0,paused:!0,speed:300,autoScrolling:!1,carouselVisible:3,prev:".single_post_slide_list__prev",next:".single_post_slide_list__next",slides:"> .item"}),$("#mobile-popup .big-close-btn").click(function(){$("#mobile-popup").fadeOut(1600)}),$("#mobile-popup .close-btn").click(function(){$("#mobile-popup").fadeOut(1600)})});var cSpeed=9,cWidth=160,cHeight=20,cTotalFrames=13,cFrameWidth=160,cImageSrc="/img/sprites.gif",cImageTimeout=!1,cIndex=0,cXpos=0,cPreloaderTimeout=!1,SECONDS_BETWEEN_FRAMES=0;$(function(){var a=null;$(".show-menu").click(function(b){b.preventDefault(),$(".nav-container").css({"min-height":$(window).height()}),clearTimeout(a),$("html, body").addClass("nav-is-activated"),a=setTimeout(function(){$(".nav-root").addClass("nav-is-open")},20)}),$(".close-menu").click(function(b){b.preventDefault(),clearTimeout(a),$(".nav-root").removeClass("nav-is-open"),a=setTimeout(function(){$("html, body").removeClass("nav-is-activated"),$(".nav-container").removeAttr("style")},300)}),$(window).resize(function(){$(window).width()>=960&&(clearTimeout(a),$(".nav-root").removeClass("nav-is-open"),$("html, body").removeClass("nav-is-activated"),$(".nav-container").removeAttr("style"))})}),window.app=function(){function a(){app.logger.func("init()"),g.container=$(app.config.frontend_app_conainer),e()}function b(){app.logger.func("bindEventListeners()"),d(),preloadStart()}function c(){app.logger.func("process()"),app.router.run(location.pathname)}function d(){app.logger.func("bindAjaxLinks()"),$(".ajaxLink").off("click"),$(".ajaxLink").click(fClickAjaxLink)}function e(){Handlebars.registerHelper("link",function(a,b){a=Handlebars.Utils.escapeExpression(a),b=Handlebars.Utils.escapeExpression(b);var c='<a href="'+b+'">'+a+"</a>";return new Handlebars.SafeString(c)}),Handlebars.registerHelper("counter",function(a,b){return parseInt(a)+1}),Handlebars.registerHelper("counter0",function(a,b){return parseInt(a)}),Handlebars.registerHelper("iff",function(a,b,c,d){var e=!1;switch(b){case"==":e=a==c;break;case">":e=a>c;break;case"<":e=c>a;break;default:throw"Unknown operator "+b}return e?d.fn(this):d.inverse(this)})}function f(a,b){a!=window.location&&window.history.pushState(null,null,a),app.router.run(a+b),$(window).off("popstate"),$(window).bind("popstate",function(){app.router.run(location.pathname+b)})}var g={container:null,isFirstLoad:!0,run:function(){app.logger.page(location.href),app.logger.func("run()"),a(),b(),c()},bindContainerAjaxLinks:function(a){app.logger.func("bindContainerAjaxLinks( "+a+")"),app.config.frontend_app_conainer!=a?(app.container.find(a).find(".ajaxLink").off("click"),app.container.find(a).find(".ajaxLink").click(fClickAjaxLink),app.logger.text("!=selector")):(app.logger.text("=selector"),app.container.find(".ajaxLink").off("click"),app.container.find(".ajaxLink").click(fClickAjaxLink))},bindAllAjaxLinks:function(){app.logger.func("bindAllAjaxLinks"),$("body").find(".ajaxLink").off("click"),$("body").find(".ajaxLink").click(fClickAjaxLink)},changePageAjax:function(a){app.logger.prefix="[app]",app.logger.page(location.href),app.logger.func("fClickAjaxLink()"),app.logger.resetTimer(),app.isFirstLoad=!1,sessionStorage.setItem("app.previous_url",location.href);var b="";preloadFadeIn(),setTimeout(function(){f(a,b)},1e3)}};return fClickAjaxLink=function(){app.logger.prefix="[app]",app.logger.page(location.href),app.logger.func("fClickAjaxLink()"),app.logger.resetTimer(),app.isFirstLoad=!1,sessionStorage.setItem("app.previous_url",location.href);var a=$(this).attr("href"),b="";return preloadFadeIn(),setTimeout(function(){f(a,b)},1e3),!1},g}(),window.app.config={},window.app.logger=function(){function a(a){return 0==app.config.frontend_app_debug?!0:void console.dir(a)}function b(a,b){if(0==app.config.frontend_app_debug)return!0;var d="color: green";console.log("%c "+b+" ["+c()+" s] "+window.app.logger.prefix+" "+a+" ",d)}function c(){return void 0==d&&(d=(new Date).getTime()),(((new Date).getTime()-d)/1e3).toFixed(2)}var d;return public={prefix:"[app]",page:function(a){0!=app.config.frontend_app_log_clear_page&&console.clear(),b(a,"")},func:function(a){b(a,"      ")},text:function(a){b(a,"            ")},"var":function(b){a(b)},resetTimer:function(){d=(new Date).getTime()}},public}(),window.app.router=function(){function a(a){app.logger["var"]($.urlParams("all"));var b={};return $.each($.urlParams("keys"),function(c,d){var e=unescape(d).toLowerCase();-1!=e.indexOf(a)&&(e=e.split("[")[1].replace(/]/,""),b[e]=$.urlParams("all")[d])}),app.logger["var"](b),b}function b(a){$.getJSON(app.config.frontend_app_api_url+a,{where:{slug:app.router.slug,locale:app.config.frontend_app_locale,domain_id:app.config.frontend_app_domain_id},fields:"id,slug,head,body,title,before_body,after_body,on_scenario"},function(b){if(b.items[0]&&"extend"!=b.items[0].on_scenario)app.view.renderPage(b.items[0]);else{var c={};b.items[0]&&(b.items[0].before_body&&(c.domain_before_body=b.items[0].before_body),b.items[0].after_body&&(c.domain_after_body=b.items[0].after_body),b.items[0].on_scenario&&(c.domain_on_scenario=b.items[0].on_scenario)),$.getJSON(app.config.frontend_app_api_url+a,{where:{slug:app.router.slug,locale:app.config.frontend_app_locale,domain_id:app.config.frontend_app_default_domain_id},fields:"id,slug,head,body,title,before_body,after_body,on_scenario"},function(a){$.extend(a.items[0],c),app.view.renderPage(a.items[0])})}})}function c(){var b=a(this.controller);app.view.renderPage(b)}return public={locale:null,controller:null,action:null,slug:null,run:function(a){app.logger.prefix="[app][router]",app.logger.func("router run "+a);var d=a.replace(/^\//,"").split("/");switch(d.length){case 1:d[0]?(d[0]=d[0],d[1]="page",d[2]="view",d[3]="home"):(d[0]="uk",d[1]="page",d[2]="view",d[3]="home");break;case 2:d[3]=d[1],d[1]="page",d[2]="view";break;case 3:d[3]=d[2],d[2]="view"}switch(this.locale=d[0],this.controller=d[1],this.action=d[2],this.slug=d[3],app.logger.text("this.locale: "+this.locale),app.logger.text("this.controller: "+this.controller),app.logger.text("this.action: "+this.action),app.logger.text("this.slug: "+this.slug),this.controller){case"page":switch(this.action){case"view":b("/db/page");break;case"preview":c()}break;case"article":switch(this.action){case"view":b("/db/article");break;case"preview":c()}break;case"promo":switch(this.action){case"view":b("/db/promo");break;case"preview":c()}break;case"project":switch(this.action){case"view":b("/db/project");break;case"preview":c()}break;case"info":switch(this.action){case"view":b("/db/info");break;case"preview":c()}break;case"service-page":switch(this.action){case"view":b("/db/service-page");break;case"preview":c()}break;case"about-page":switch(this.action){case"view":b("/db/about-page");break;case"preview":c()}}}},public}(),window.app.view=function(){function a(a){var b={},c=JSON.parse(a),d=0;return $.each(c,function(a,c){var f=e(c);if(!$.isEmptyObject(c)&&"tab_title"!=a&&"___"+f+"___"!=a){var g=f+"__"+d;d++,b[g]=c,b[g].widgetId=g,b[g].widgetName=f}}),b}function b(a){var b=null,c=null;if(a)var c=JSON.parse(a);return app.logger.text("HEAD"),app.logger["var"](c),c&&c.common&&c.common.title&&c.common.title.content&&(b=c.common.title.content),b||(b=app.page.title),b}function c(){var a=function(){var a=!1;$.each(app.page.widgets,function(b,c){return!1===app.page.widgets[b].rendered?(a=!0,!1):void 0===app.page.widgets[b].rendered?(app.page.widgets[b].rendered=!1,a=!0,i=app.page.widgets[b],app.view.wfn[c.widgetName](),!1):void 0}),!1===a&&(app.logger.text("clear interval"),clearInterval(window.intervalId),f())};window.intervalId=setInterval(a,200)}function d(){$("nav").find(".nav-active").removeClass("nav-active"),$('a[href*="'+location.pathname+'"]').addClass("nav-active")}function e(a){var b;return $.each(a,function(a,c){a.match(/___(.+)___/)&&(b=a.match(/___(.+)___/)[1])}),b}function f(){app.logger.func("afterPageRender()"),app.view.wfn.footer(),$(".main-container").show(),$("footer").show(),app.isFirstLoad?preloadLogoEnd():preloadFadeOut(),app.container.append($("<div/>").html(app.config.frontend_app_code_body_end).text()),app.bindAllAjaxLinks(),setTimeout(function(){app.bindAllAjaxLinks()},3e3)}function g(){app.view.wfn.header(),app.container.html("")}function h(a){var b=a.body;return a.domain_before_body&&(b=a.domain_before_body+b),a.domain_after_body&&(b+=a.domain_after_body),b=b.replace(/\]\[/g,",").replace(/,,/g,",").replace(/\[,\]/g,"[]")}var i;return public={renderPage:function(e){return app.logger.prefix="[app][view]",e?e.body?(app.page=e,app.page.body=h(app.page),document.title=b(app.page.head),app.page.widgets=a(app.page.body),this.helper.preffix=app.config.frontend_app_web_url+"/"+app.router.locale,app.logger.text("this.helper.preffix:"+this.helper.preffix),g(),d(),app.view.changeLangSwitchUrls(),void c()):(alert("Empty page."),!1):(alert("Page not found."),!1)},getCurrentWidget:function(){return i},beforeWidget:function(a){app.logger.prefix="[widget]["+a.widgetId+"]",app.logger["var"](a)},afterWidget:function(a){app.page.widgets[a.widgetId].rendered=!0,app.logger.prefix=""},helper:{preffix:null},getTranslationsFromData:function(a){if($.isEmptyObject(a.t))return{};var b={};return $.each(a.t,function(a,c){c.key&&c.value&&(b[c.key]=c.value)}),b},getLinksFromData:function(a){if($.isEmptyObject(a.links))return{};var b={};return $.each(a.links,function(a,c){"@frontend"==c.host&&(c.host=app.view.helper.preffix),b[c.key]=c.host+c.url}),b},changeLangSwitchUrls:function(){$("a[short-lang]").each(function(a,b){var c=location.pathname,d=$(b).attr("short-lang");c&&"/"!=c&&(c=c.replace(/^\/[\w]{2}/,"/"+d)),"/"==c&&(c+=d),$(b).attr("href",app.config.frontend_app_frontend_url+c)})}},public}(),app.view.wfn={},window.app.templateLoader=function(){return public={getTemplateAjax:function(a,b){var c,d;$.ajax({url:a,success:function(a){return c=a,d=Handlebars.compile(c),b?void b(d):d}})}},public}(),$(document).ready(function(){window.app.run()}),app.view.wfn.characteristics=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;a.t=app.view.getTranslationsFromData(a),c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/objects/characteristics.html";app.view.beforeWidget(e),a()},app.view.wfn.engine=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/objects/engine.html",e=app.view.getCurrentWidget();app.view.beforeWidget(e),a()},app.view.wfn["feat-box"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/objects/feat-box.html",e=app.view.getCurrentWidget();app.view.beforeWidget(e),a()},app.view.wfn.files=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;a.header_1="Все, что вы хотите знать о Renault SANDERO",c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/objects/files.html",e=app.view.getCurrentWidget();app.view.beforeWidget(e),a()},app.view.wfn.iframes=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/objects/iframes.html",e=app.view.getCurrentWidget();app.view.beforeWidget(e),a()},app.view.wfn["promo-slider"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/objects/promo-slider.html";a()},app.view.wfn["vehicle-promotions"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;a.viewAllUrl=app.view.helper.preffix+"/models",c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/objects/vehicle-promotions.html";a()},app.view.wfn.credit=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/tables/credit.html";a()},app.view.wfn["dealer-quest-box"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;$.each(a.items,function(b,c){"@frontend"==c.host&&(a.items[b].viewUrl=app.view.helper.preffix+c.url)}),c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/tables/dealer-quest-box.html";a()},app.view.wfn["info-menu"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;$.each(a.items,function(b,c){"@frontend"==c.host&&(a.items[b].viewUrl=app.view.helper.preffix+c.url)}),c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/tables/info-menu.html";a()},app.view.wfn["book-a-test-drive-form"]=function(){function run(){app.logger.func("run"),loadData()}function loadData(){app.logger.func("loadData()");var a=widget;$.getScript(app.config.frontend_app_web_url+"/js/lib/validator/localization/messages_"+app.router.locale+".js"),loadSalons(a),loadFormData(a)}function getDataPickerFromData(a){if($.isEmptyObject(a.datapicker))return{};var b={};return $.each(a.datapicker,function(a,c){c.key&&c.value&&(b[c.key]=c.value)}),b}function mapInitialize(a){var b=new google.maps.LatLng(49.3159955,32.0068446),c=6;a&&app.logger["var"](a),$.isEmptyObject(a)||$.isEmptyObject(a.center)||(b=new google.maps.LatLng(a.center.split(",")[0],a.center.split(",")[1])),!$.isEmptyObject(a)&&a.zoom&&(c=a.zoom);var d={scrollwheel:!1,center:b,zoom:c,mapTypeId:google.maps.MapTypeId.ROADMAP},e=new google.maps.Map(document.getElementById("mapresult"),d);markers=[];var f=document.getElementById("test-drive-form-map-input-search"),g=new google.maps.places.Autocomplete(f,{types:["(cities)"],componentRestrictions:{country:"ua"}});google.maps.event.addListener(g,"place_changed",function(){var a=g.getPlace();if(a.geometry){for(var b,c=0;b=markers[c];c++)b.setMap(null);if(!$.isEmptyObject(g.getPlace())&&!$.isEmptyObject(g.getPlace())&&!$.isEmptyObject(g.getPlace().name)){var d=g.getPlace().name;app.logger["var"](g.getPlace()),app.logger.text(d);var f="."+toCodeValue(d);app.logger.text(f),$.isEmptyObject(app.view.$grid)||app.view.$grid.isotope({filter:f}),app.view.mapFilterValue=f}markers=[];var h=new google.maps.LatLngBounds;h.extend(a.geometry.location),e.fitBounds(h),e.setZoom(11)}}),google.maps.event.addListener(e,"bounds_changed",function(){var a=e.getBounds();g.setBounds(a)}),app.view.allMarkers=[],$.each(app.view.dealers,function(b,c){if(!$.isEmptyObject(a)&&!$.isEmptyObject(a.filter)){if("salon"==a.filter&&$.isEmptyObject(c.salon_id))return;if("service"==a.filter&&$.isEmptyObject(c.service_id))return;if("pro"==a.filter&&$.isEmptyObject(c.dealers_pro))return}if(!c.service_id||c.salon_id){var d=new google.maps.LatLng(c.gps_x,c.gps_y),f=new google.maps.Marker({position:d,map:e,icon:"/img/ico-marker3.png",dealer:c,scale:4});app.view.allMarkers.push(f),google.maps.event.addListener(f,"click",function(){markerClick.call(this,f,app.view.allMarkers)})}})}function loadFormData(data){$.ajax({url:"http://dealers.renault.ua/ru/site/test_drive",success:function(html){var dealersScript=$(html).filter("#all").children().children().children().filter("div.inner-content").children().children()[4];eval($(dealersScript).html()),data.dealers=window.dealers,data.models=[],$(html).filter("#all").children().children().children().filter("div.inner-content").children().children().filter("div.form-item-renault").children().filter("form#form ").find("select.form.required.modelOfInterest.width462").children().each(function(a,b){data.models.push($.trim($(b).val()))});var item=null,items=[];$.each(data.models,function(a,b){item={title:b,img_src:""},$.each(data.items,function(a,c){b==c.title&&(item=c)}),items.push(item)}),data.items=items,loadTemplate(data)}})}function loadTemplate(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[template];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+template+"?v="+b,function(b){renderWidget(b(a))})}function renderWidget(a,b){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(widget),mapInitialize(b),$(".select-dealer-content").slideUp(),$(".form .select-dealer-content, .form .select-dealer-header").attr("data-state","closed"),setDefaultValues(),setPredefinedValues(b)}function setDefaultValues(){var a=new Date,b=a.getDate()+1,c=a.getMonth()+1;10>c&&(c="0"+c);var d=a.getFullYear();window.testDriveData={selected_id:"","punkt[5]":"","field-firstname":"2","field-secondname":"3","field-lastname":"1","punkt[1]":"","punkt[2]":"","punkt[3]":"",massive:"Array","punkt[4]":"","field-email":"6","punkt[6]":"","field-phone":"7","punkt[7]":"","punkt[8]":b+"."+c+"."+d,"punkt[9]":"9:00-10:00","punkt[10]":"yes","punkt[11]":"true","submit-val":"1",RenaultDealerDomain:location.hostname}}function loadTranslation(a){switch(app.router.locale){case"uk":a.Select_this_dealer="Вибрати цього диллера",a.select_date_and_time="Оберіть дату та час",a.Select_date="оберіть дату",a.select_time="оберіть час",a.optional_confirmation="Ми зв'яжемось з Вами щоб підтвердити, що обрані Вами дата та час вільні",a.change_this_datetime="Обрати ці дату та час",a.accost="Звертання",a.Mr="Пан",a.Ms="Пані",a.name="Ім'я",a.surname="Прізвище",a.patronymic="По батькові",a.E_Mail="E-Mail",a.post_code="Індекс",a.settlement="Населений пункт",a.house_number="Номер будинку",a.VIN="VIN <span>(номер кузова, зазначений у свідоцтві<br> про реєстрацію транспортного засобу)</span>",a.phone="Мобільний телефон",a.region="Область",a.street="Вулиця",a.number_of_apartments="Номер квартири",a.The_state_reg_number="Державний реєстраційний номер",a.your_question="Ваше питання",a.Subscribe_to_news="Підписатися на новини Renault",a.consent="Даю свою згоду на обробку зазначених мною вище персональних даних";break;case"ru":a.Select_this_dealer="Выбрать этого диллера",a.select_date_and_time="Выберите дату и время",a.Select_date="выберите дату",a.select_time="выберите время",a.optional_confirmation="Мы свяжемся с Вами, чтобы подтвердить, что выбранные Вами дата и время свободны",a.change_this_datetime="Выбрать эти дату и время",a.accost="Обращение",a.Mr="Г-н",a.Ms="Г-жа",a.name="Имя",a.surname="Фамилия",a.patronymic="Отчество",a.E_Mail="E-Mail",a.post_code="Индекс",a.settlement="Неселённый пункт",a.house_number="Номер дома",a.VIN="VIN <span>( Номер кузова, указанный в свидедельстве<br> о регистрации транспортного средства)</span>",a.phone="Мобильный телефон",a.region="Область",a.street="Улица",a.number_of_apartments="Номер квартиры",a.The_state_reg_number="Государственный регистрационный номер",a.your_question="Ваш вопрос",a.Subscribe_to_news="Подписаться на новости RENAULT",a.consent="Даю своё согласие на обработку указанных мною выше личных данных"}}function loadSalons(a){var b={controller:"salon",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){app.view.dealers=b,loadServices(a)})}function loadServices(a){var b={controller:"service",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){$.each(app.view.dealers,function(a,c){$.each(b,function(d,e){e.gps_coords==c.gps_coords&&e.dealers_id==c.dealers_id&&($.extend(app.view.dealers[a],e),b[d]=!1)})}),$.each(b,function(a,b){$.isEmptyObject(b)||app.view.dealers.push(b)}),a.dealers=getPreparedDealers(app.view.dealers)})}function changeDealerInfo(a){var b=app.router.locale;"uk"==b&&(b="ua");var c='<h4>"'+a["dealers_name_"+b]+'"</h4><h5>Контактна інформація</h5><p>'+a["city_name_"+b]+"<br>"+a["salon_adres_"+b]+"</p><h5>салон</h5><p>"+a.salon_phone+"</p>";$(".map-wrapper").addClass("mw-dealer-selected"),$(".mapitembox").html(c),window.testDriveData.selected_id=a.dealers_id,$("#test-drive-form-select-this-dealer-button").show(),$("#test-drive-form-select-this-dealer-button").click(function(){$(".select-dealer-header").html(a["dealers_name_"+b]),$(".select-dealer-content").slideUp(),$(".form .select-dealer-content, .form .select-dealer-header").attr("data-state","closed"),$(".form .select-date-time-content").slideDown(),$(".form .select-date-time-content, .form .select-date-time-header").attr("data-state","open")})}function getPreparedDealers(a){var b=app.router.locale;return"uk"==b&&(b="ua"),$.each(a,function(c,d){a[c].title=d["dealers_name_"+b],a[c].town=d["city_name_"+b],$.isEmptyObject(d["service_adres_"+b])||(a[c].street=d["service_adres_"+b]),$.isEmptyObject(d["salon_adres_"+b])||(a[c].street=d["salon_adres_"+b]),a[c].gpsUrl="https://www.google.com.ua/maps/place/@"+d.gps_coords.replace(/\ /g,"")+",17z/data=!4m2!3m1!1s0x40d4cefec397bd8f:0xd344af779861fc77",a[c].dataFilter=toCodeValue(d.city_name_ru)+" "+toCodeValue(d.city_name_ua);var e=d.gps_coords.replace(/\ /g,"").split(",");a[c].gps_x=e[0],a[c].gps_y=e[1],$.isEmptyObject(d.salon_id)||(a[c].websiteUrl=d.salon_url,a[c].dataFilter=a[c].dataFilter+" data-filter-salon"),$.isEmptyObject(d.service_id)||(a[c].websiteUrl=d.service_url,a[c].dataFilter=a[c].dataFilter+" data-filter-service"),$.isEmptyObject(d.dealers_pro)||(a[c].dataFilter=a[c].dataFilter+" data-filter-pro"),c%3==0&&(a[c].firstInRow=!0),(c+1)%3==0&&(a[c].lastInRow=!0)}),a}function getDealer(a){}function setPredefinedValues(a){var b,c,d,e,f;b=$.urlParams("get","model"),c=$.urlParams("get","salon_id"),d=$.urlParams("get","service_id"),e=$.urlParams("get","city_id"),app.config.frontend_app_dealer_id&&(f=app.config.frontend_app_dealer_id),b&&$(".vehicle-categories").find(".vehicle-in-category-name-inner").each(function(a,c){b.toLowerCase()==$(this).html().toLowerCase()&&modelClick.call($(this).parent().parent())}),e&&$.each(app.view.allMarkers,function(b,c){return e==c.dealer.city_id?(app.logger.text("predefined city: "+c.dealer.city_name_ua),$("#test-drive-form-map-input-search").val(c.dealer.city_name_ua),a.center=c.dealer.gps_x+","+c.dealer.gps_y,a.zoom=11,void mapInitialize(a)):void 0}),c&&$.each(app.view.allMarkers,function(a,b){return c==b.dealer.salon_id?void markerClick.call(this,b,app.view.allMarkers):void 0}),d&&$.each(app.view.allMarkers,function(a,b){return d==b.dealer.service_id?void markerClick.call(this,b,app.view.allMarkers):void 0}),f&&f>0&&($("#test-drive-form-map-input-search").parent().hide(),$.each(app.view.allMarkers,function(a,b){f==b.dealer.dealers_id?markerClick.call(this,b,app.view.allMarkers):b.visible=!1}))}function markerClick(a,b){app.logger["var"](a.dealer),changeDealerInfo(a.dealer);for(var c=0;c<b.length;c++)b[c].setIcon("/img/ico-marker3.png");a.setIcon("/img/ico-marker2.png")}var widget=app.view.getCurrentWidget(),template="/templates/block/page/book-a-test-drive-form.html";run()},app.view.wfn.service=function(){function run(){app.logger.func("run"),loadData()}function loadData(){app.logger.func("loadData()");var a=widget;loadSalons(a),loadFormData(a)}function getDataPickerFromData(a){if($.isEmptyObject(a.datapicker))return{};var b={};return $.each(a.datapicker,function(a,c){c.key&&c.value&&(b[c.key]=c.value)}),b}function mapInitialize(a){var b=new google.maps.LatLng(49.3159955,32.0068446),c=6;a&&app.logger["var"](a),$.isEmptyObject(a)||$.isEmptyObject(a.center)||(b=new google.maps.LatLng(a.center.split(",")[0],a.center.split(",")[1])),!$.isEmptyObject(a)&&a.zoom&&(c=a.zoom);var d={scrollwheel:!1,center:b,zoom:c,mapTypeId:google.maps.MapTypeId.ROADMAP},e=new google.maps.Map(document.getElementById("mapresult"),d);markers=[];var f=document.getElementById("test-drive-form-map-input-search"),g=new google.maps.places.Autocomplete(f,{types:["(cities)"],componentRestrictions:{country:"ua"}});google.maps.event.addListener(g,"place_changed",function(){var a=g.getPlace();if(a.geometry){for(var b,c=0;b=markers[c];c++)b.setMap(null);if(!$.isEmptyObject(g.getPlace())&&!$.isEmptyObject(g.getPlace())&&!$.isEmptyObject(g.getPlace().name)){var d=g.getPlace().name;app.logger["var"](g.getPlace()),app.logger.text(d);var f="."+toCodeValue(d);app.logger.text(f),$.isEmptyObject(app.view.$grid)||app.view.$grid.isotope({filter:f}),app.view.mapFilterValue=f}markers=[];var h=new google.maps.LatLngBounds;h.extend(a.geometry.location),e.fitBounds(h),e.setZoom(11)}}),google.maps.event.addListener(e,"bounds_changed",function(){var a=e.getBounds();g.setBounds(a)}),app.view.allMarkers=[],$.each(app.view.dealers,function(b,c){if(!$.isEmptyObject(a)&&!$.isEmptyObject(a.filter)){if("salon"==a.filter&&$.isEmptyObject(c.salon_id))return;if("service"==a.filter&&$.isEmptyObject(c.service_id))return;if("pro"==a.filter&&$.isEmptyObject(c.dealers_pro))return}if(!c.service_id||c.salon_id){var d=new google.maps.LatLng(c.gps_x,c.gps_y),f=new google.maps.Marker({position:d,map:e,icon:"/img/ico-marker3.png",dealer:c,scale:4});app.view.allMarkers.push(f),google.maps.event.addListener(f,"click",function(){markerClick.call(this,f,app.view.allMarkers)})}})}function loadFormData(data){$.ajax({url:"http://dealers.renault.ua/ru/site/test_drive",success:function(html){var dealersScript=$(html).filter("#all").children().children().children().filter("div.inner-content").children().children()[4];eval($(dealersScript).html()),data.dealers=window.dealers,data.models=[],$(html).filter("#all").children().children().children().filter("div.inner-content").children().children().filter("div.form-item-renault").children().filter("form#form ").find("select.form.required.modelOfInterest.width462").children().each(function(a,b){data.models.push($.trim($(b).val()))});var item=null,items=[];$.each(data.models,function(a,b){item={title:b,img_src:""},$.each(data.items,function(a,c){b==c.title&&(item=c)}),items.push(item)}),data.items=items,loadTemplate(data)}})}function loadTemplate(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[template];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+template+"?v="+b,function(b){renderWidget(b(a))})}function renderWidget(a,b){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(widget),mapInitialize(b),setDefaultValues(),setPredefinedValues(b)}function setDefaultValues(){var a=new Date,b=a.getDate()+1,c=a.getMonth()+1;10>c&&(c="0"+c);var d=a.getFullYear();window.testDriveData={selected_id:"","punkt[5]":"","field-firstname":"2","field-secondname":"3","field-lastname":"1","punkt[1]":"","punkt[2]":"","punkt[3]":"",massive:"Array","punkt[4]":"","field-email":"6",
"punkt[6]":"","field-phone":"7","punkt[7]":"","punkt[8]":b+"."+c+"."+d,"punkt[9]":"9:00-10:00","punkt[10]":"yes","punkt[11]":"true","submit-val":"1",RenaultDealerDomain:location.hostname}}function loadTranslation(a){switch(app.router.locale){case"uk":a.Select_this_dealer="Вибрати цього диллера",a.select_date_and_time="Оберіть дату та час",a.Select_date="оберіть дату",a.select_time="оберіть час",a.optional_confirmation="Ми зв'яжемось з Вами щоб підтвердити, що обрані Вами дата та час вільні",a.change_this_datetime="Обрати ці дату та час",a.accost="Звертання",a.Mr="Пан",a.Ms="Пані",a.name="Ім'я",a.surname="Прізвище",a.patronymic="По батькові",a.E_Mail="E-Mail",a.post_code="Індекс",a.settlement="Населений пункт",a.house_number="Номер будинку",a.VIN="VIN <span>(номер кузова, зазначений у свідоцтві<br> про реєстрацію транспортного засобу)</span>",a.phone="Мобільний телефон",a.region="Область",a.street="Вулиця",a.number_of_apartments="Номер квартири",a.The_state_reg_number="Державний реєстраційний номер",a.your_question="Ваше питання",a.Subscribe_to_news="Підписатися на новини Renault",a.consent="Даю свою згоду на обробку зазначених мною вище персональних даних";break;case"ru":a.Select_this_dealer="Выбрать этого диллера",a.select_date_and_time="Выберите дату и время",a.Select_date="выберите дату",a.select_time="выберите время",a.optional_confirmation="Мы свяжемся с Вами, чтобы подтвердить, что выбранные Вами дата и время свободны",a.change_this_datetime="Выбрать эти дату и время",a.accost="Обращение",a.Mr="Г-н",a.Ms="Г-жа",a.name="Имя",a.surname="Фамилия",a.patronymic="Отчество",a.E_Mail="E-Mail",a.post_code="Индекс",a.settlement="Неселённый пункт",a.house_number="Номер дома",a.VIN="VIN <span>( Номер кузова, указанный в свидедельстве<br> о регистрации транспортного средства)</span>",a.phone="Мобильный телефон",a.region="Область",a.street="Улица",a.number_of_apartments="Номер квартиры",a.The_state_reg_number="Государственный регистрационный номер",a.your_question="Ваш вопрос",a.Subscribe_to_news="Подписаться на новости RENAULT",a.consent="Даю своё согласие на обработку указанных мною выше личных данных"}}function loadSalons(a){var b={controller:"salon",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){app.view.dealers=b,loadServices(a)})}function loadServices(a){var b={controller:"service",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){$.each(app.view.dealers,function(a,c){$.each(b,function(d,e){e.gps_coords==c.gps_coords&&e.dealers_id==c.dealers_id&&($.extend(app.view.dealers[a],e),b[d]=!1)})}),$.each(b,function(a,b){$.isEmptyObject(b)||app.view.dealers.push(b)}),a.dealers=getPreparedDealers(app.view.dealers)})}function changeDealerInfo(a){var b=app.router.locale;"uk"==b&&(b="ua");var c='<h4>"'+a["dealers_name_"+b]+'"</h4><h5>Контактна інформація</h5><p>'+a["city_name_"+b]+"<br>"+a["salon_adres_"+b]+"</p><h5>салон</h5><p>"+a.salon_phone+"</p>";$(".map-wrapper").addClass("mw-dealer-selected"),$(".mapitembox").html(c),window.testDriveData.selected_id=a.dealers_id,$("#test-drive-form-select-this-dealer-button").show(),$("#test-drive-form-select-this-dealer-button").click(function(){$(".select-dealer-header").html(a["dealers_name_"+b]),$(".select-dealer-content").slideUp(),$(".form .select-dealer-content, .form .select-dealer-header").attr("data-state","closed"),$(".form .select-date-time-content").slideDown(),$(".form .select-date-time-content, .form .select-date-time-header").attr("data-state","open")})}function getPreparedDealers(a){var b=app.router.locale;return"uk"==b&&(b="ua"),$.each(a,function(c,d){a[c].title=d["dealers_name_"+b],a[c].town=d["city_name_"+b],$.isEmptyObject(d["service_adres_"+b])||(a[c].street=d["service_adres_"+b]),$.isEmptyObject(d["salon_adres_"+b])||(a[c].street=d["salon_adres_"+b]),a[c].gpsUrl="https://www.google.com.ua/maps/place/@"+d.gps_coords.replace(/\ /g,"")+",17z/data=!4m2!3m1!1s0x40d4cefec397bd8f:0xd344af779861fc77",a[c].dataFilter=toCodeValue(d.city_name_ru)+" "+toCodeValue(d.city_name_ua);var e=d.gps_coords.replace(/\ /g,"").split(",");a[c].gps_x=e[0],a[c].gps_y=e[1],$.isEmptyObject(d.salon_id)||(a[c].websiteUrl=d.salon_url,a[c].dataFilter=a[c].dataFilter+" data-filter-salon"),$.isEmptyObject(d.service_id)||(a[c].websiteUrl=d.service_url,a[c].dataFilter=a[c].dataFilter+" data-filter-service"),$.isEmptyObject(d.dealers_pro)||(a[c].dataFilter=a[c].dataFilter+" data-filter-pro"),c%3==0&&(a[c].firstInRow=!0),(c+1)%3==0&&(a[c].lastInRow=!0)}),a}function getDealer(a){}function setPredefinedValues(a){var b,c,d,e,f;b=$.urlParams("get","model"),c=$.urlParams("get","salon_id"),d=$.urlParams("get","service_id"),e=$.urlParams("get","city_id"),app.config.frontend_app_dealer_id&&(f=app.config.frontend_app_dealer_id),b&&$(".vehicle-categories").find(".vehicle-in-category-name-inner").each(function(a,c){b.toLowerCase()==$(this).html().toLowerCase()&&modelClick.call($(this).parent().parent())}),e&&$.each(app.view.allMarkers,function(b,c){return e==c.dealer.city_id?(app.logger.text("predefined city: "+c.dealer.city_name_ua),$("#test-drive-form-map-input-search").val(c.dealer.city_name_ua),a.center=c.dealer.gps_x+","+c.dealer.gps_y,a.zoom=11,void mapInitialize(a)):void 0}),c&&$.each(app.view.allMarkers,function(a,b){return c==b.dealer.salon_id?void markerClick.call(this,b,app.view.allMarkers):void 0}),d&&$.each(app.view.allMarkers,function(a,b){return d==b.dealer.service_id?void markerClick.call(this,b,app.view.allMarkers):void 0}),f&&f>0&&($("#test-drive-form-map-input-search").parent().hide(),$.each(app.view.allMarkers,function(a,b){f==b.dealer.dealers_id?markerClick.call(this,b,app.view.allMarkers):b.visible=!1}))}function markerClick(a,b){app.logger["var"](a.dealer),changeDealerInfo(a.dealer);for(var c=0;c<b.length;c++)b[c].setIcon("/img/ico-marker3.png");a.setIcon("/img/ico-marker2.png")}var widget=app.view.getCurrentWidget(),template="/templates/block/page/service.html";run()},app.view.wfn.subscribes=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/block/page/subscribes.html";a()},app.view.wfn.contact=function(){function run(){app.logger.func("run"),loadData()}function loadData(){app.logger.func("loadData()");var a=widget;$.verify.addFieldRules({nameR1:{expected:"42",message:"uk"==app.router.locale?"Wasn't 42uk":"Wasn't 42ru",fn:function(a){return a.val()===a.expected?!0:a.message}}}),$.getScript(app.config.frontend_app_web_url+"/js/lib/validator/localization/messages_"+app.router.locale+".js"),loadSalons(a)}function mapInitialize(a){var b=new google.maps.LatLng(49.3159955,32.0068446),c=6;a&&app.logger["var"](a),$.isEmptyObject(a)||$.isEmptyObject(a.center)||(b=new google.maps.LatLng(a.center.split(",")[0],a.center.split(",")[1])),!$.isEmptyObject(a)&&a.zoom&&(c=a.zoom);var d={scrollwheel:!1,center:b,zoom:c,mapTypeId:google.maps.MapTypeId.ROADMAP},e=new google.maps.Map(document.getElementById("mapresult"),d);markers=[];var f=document.getElementById("test-drive-form-map-input-search"),g=new google.maps.places.Autocomplete(f,{types:["(cities)"],componentRestrictions:{country:"ua"}});google.maps.event.addListener(g,"place_changed",function(){var a=g.getPlace();if(a.geometry){for(var b,c=0;b=markers[c];c++)b.setMap(null);if(!$.isEmptyObject(g.getPlace())&&!$.isEmptyObject(g.getPlace)&&!$.isEmptyObject(g.getPlace.name)){var d=g.getPlace.name;app.logger["var"](g.getPlace),app.logger.text(d);var f="."+toCodeValue(d);app.logger.text(f),$.isEmptyObject(app.view.$grid)||app.view.$grid.isotope({filter:f}),app.view.mapFilterValue=f}markers=[];var h=new google.maps.LatLngBounds;h.extend(a.geometry.location),e.fitBounds(h),e.setZoom(11)}}),google.maps.event.addListener(e,"bounds_changed",function(){var a=e.getBounds();g.setBounds(a)}),app.view.allMarkers=[],$.each(app.view.dealers,function(b,c){if(!$.isEmptyObject(a)&&!$.isEmptyObject(a.filter)){if("salon"==a.filter&&$.isEmptyObject(c.salon_id))return;if("service"==a.filter&&$.isEmptyObject(c.service_id))return;if("pro"==a.filter&&$.isEmptyObject(c.dealers_pro))return}if(!c.service_id||c.salon_id){var d=new google.maps.LatLng(c.gps_x,c.gps_y),f=new google.maps.Marker({position:d,map:e,icon:"/img/ico-marker3.png",dealer:c,scale:4});app.view.allMarkers.push(f),google.maps.event.addListener(f,"click",function(){markerClick.call(this,f,app.view.allMarkers)})}})}function loadFormData(data){$.ajax({url:"http://dealers.renault.ua/ru/site/test_drive",success:function(html){var dealersScript=$(html).filter("#all").children().children().children().filter("div.inner-content").children().children()[4];eval($(dealersScript).html()),data.dealers=window.dealers,data.models=[],$(html).filter("#all").children().children().children().filter("div.inner-content").children().children().filter("div.form-item-renault").children().filter("form#form ").find("select.form.required.modelOfInterest.width462").children().each(function(a,b){data.models.push($.trim($(b).val()))});var item=null,items=[];$.each(data.models,function(a,b){item={title:b,img_src:""},$.each(data.items,function(a,c){b==c.title&&(item=c)}),items.push(item)}),data.items=items,loadTemplate(data)}})}function loadTemplate(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[template];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+template+"?v="+b,function(b){renderWidget(b(a))})}function renderWidget(a,b){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(widget),mapInitialize(b),$(".select-dealer-content").slideUp(),$(".form .select-dealer-content, .form .select-dealer-header").attr("data-state","closed"),setDefaultValues(),setPredefinedValues(b)}function setDefaultValues(){window.testDriveData={selected_id:"","field-firstname":"2","field-secondname":"3","field-lastname":"1","punkt[1]":"","punkt[2]":"","punkt[3]":"","field-email":"6","punkt[6]":"","field-phone":"7","punkt[7]":"","punkt[8]":"","punkt[10]":"yes","punkt[11]":"true","punkt[12]":"1","punkt[13]":"1","submit-val":"1",RenaultDealerDomain:location.hostname}}function loadTranslation(a){switch(app.router.locale){case"uk":a.Select_this_dealer="Вибрати цього диллера",a.select_date_and_time="Оберіть дату та час",a.Select_date="оберіть дату",a.select_time="оберіть час",a.optional_confirmation="Ми зв'яжемось з Вами щоб підтвердити, що обрані Вами дата та час вільні",a.change_this_datetime="Обрати ці дату та час",a.accost="Звертання",a.Mr="Пан",a.Ms="Пані",a.name="Ім'я",a.surname="Прізвище",a.patronymic="По батькові",a.E_Mail="E-Mail",a.post_code="Індекс",a.settlement="Населений пункт",a.house_number="Номер будинку",a.VIN="VIN <span>(номер кузова, зазначений у свідоцтві<br> про реєстрацію транспортного засобу)</span>",a.phone="Мобільний телефон",a.region="Область",a.street="Вулиця",a.number_of_apartments="Номер квартири",a.The_state_reg_number="Державний реєстраційний номер",a.your_question="Ваше питання",a.Subscribe_to_news="Підписатися на новини Renault",a.consent="Даю свою згоду на обробку зазначених мною вище персональних даних";break;case"ru":a.Select_this_dealer="Выбрать этого диллера",a.select_date_and_time="Выберите дату и время",a.Select_date="выберите дату",a.select_time="выберите время",a.optional_confirmation="Мы свяжемся с Вами, чтобы подтвердить, что выбранные Вами дата и время свободны",a.change_this_datetime="Выбрать эти дату и время",a.accost="Обращение",a.Mr="Г-н",a.Ms="Г-жа",a.name="Имя",a.surname="Фамилия",a.patronymic="Отчество",a.E_Mail="E-Mail",a.post_code="Индекс",a.settlement="Неселённый пункт",a.house_number="Номер дома",a.VIN="VIN <span>( Номер кузова, указанный в свидедельстве<br> о регистрации транспортного средства)</span>",a.phone="Мобильный телефон",a.region="Область",a.street="Улица",a.number_of_apartments="Номер квартиры",a.The_state_reg_number="Государственный регистрационный номер",a.your_question="Ваш вопрос",a.Subscribe_to_news="Подписаться на новости RENAULT",a.consent="Даю своё согласие на обработку указанных мною выше личных данных"}}function loadSalons(a){var b={controller:"salon",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){app.view.dealers=b,loadServices(a)})}function loadServices(a){var b={controller:"service",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){$.each(app.view.dealers,function(a,c){$.each(b,function(d,e){e.gps_coords==c.gps_coords&&e.dealers_id==c.dealers_id&&($.extend(app.view.dealers[a],e),b[d]=!1)})}),$.each(b,function(a,b){$.isEmptyObject(b)||app.view.dealers.push(b)}),a.dealers=getPreparedDealers(app.view.dealers),loadTemplate(a)})}function changeDealerInfo(a){var b=app.router.locale;"uk"==b&&(b="ua");var c='<h4>"'+a["dealers_name_"+b]+'"</h4><h5>Контактна інформація</h5><p>'+a["city_name_"+b]+"<br>"+a["salon_adres_"+b]+"</p><h5>салон</h5><p>"+a.salon_phone+"</p>";$(".map-wrapper").addClass("mw-dealer-selected"),$(".mapitembox").html(c),window.testDriveData.selected_id=a.dealers_id,$("#test-drive-form-select-this-dealer-button").show(),$("#test-drive-form-select-this-dealer-button").click(function(){$(".select-dealer-header").html(a["dealers_name_"+b]),$(".select-dealer-content").slideUp(),$(".form .select-dealer-content, .form .select-dealer-header").attr("data-state","closed"),$(".form .select-date-time-content").slideDown(),$(".form .select-date-time-content, .form .select-date-time-header").attr("data-state","open")})}function getPreparedDealers(a){var b=app.router.locale;return"uk"==b&&(b="ua"),$.each(a,function(c,d){a[c].title=d["dealers_name_"+b],a[c].town=d["city_name_"+b],$.isEmptyObject(d["service_adres_"+b])||(a[c].street=d["service_adres_"+b]),$.isEmptyObject(d["salon_adres_"+b])||(a[c].street=d["salon_adres_"+b]),a[c].gpsUrl="https://www.google.com.ua/maps/place/@"+d.gps_coords.replace(/\ /g,"")+",17z/data=!4m2!3m1!1s0x40d4cefec397bd8f:0xd344af779861fc77",a[c].dataFilter=toCodeValue(d.city_name_ru)+" "+toCodeValue(d.city_name_ua);var e=d.gps_coords.replace(/\ /g,"").split(",");a[c].gps_x=e[0],a[c].gps_y=e[1],$.isEmptyObject(d.salon_id)||(a[c].websiteUrl=d.salon_url,a[c].dataFilter=a[c].dataFilter+" data-filter-salon"),$.isEmptyObject(d.service_id)||(a[c].websiteUrl=d.service_url,a[c].dataFilter=a[c].dataFilter+" data-filter-service"),$.isEmptyObject(d.dealers_pro)||(a[c].dataFilter=a[c].dataFilter+" data-filter-pro"),c%3==0&&(a[c].firstInRow=!0),(c+1)%3==0&&(a[c].lastInRow=!0)}),a}function getDealer(a){}function setPredefinedValues(a){var b,c,d,e;b=$.urlParams("get","salon_id"),c=$.urlParams("get","service_id"),d=$.urlParams("get","city_id"),app.config.frontend_app_dealer_id&&(e=app.config.frontend_app_dealer_id),d&&$.each(app.view.allMarkers,function(b,c){return d==c.dealer.city_id?(app.logger.text("predefined city: "+c.dealer.city_name_ua),$("#test-drive-form-map-input-search").val(c.dealer.city_name_ua),a.center=c.dealer.gps_x+","+c.dealer.gps_y,a.zoom=11,void mapInitialize(a)):void 0}),b&&$.each(app.view.allMarkers,function(a,c){return b==c.dealer.salon_id?void markerClick.call(this,c,app.view.allMarkers):void 0}),c&&$.each(app.view.allMarkers,function(a,b){return c==b.dealer.service_id?void markerClick.call(this,b,app.view.allMarkers):void 0}),e&&e>0&&($("#test-drive-form-map-input-search").parent().hide(),$.each(app.view.allMarkers,function(a,b){e==b.dealer.dealers_id?markerClick.call(this,b,app.view.allMarkers):b.visible=!1}))}function markerClick(a,b){app.logger["var"](a.dealer),changeDealerInfo(a.dealer);for(var c=0;c<b.length;c++)b[c].setIcon("/img/ico-marker3.png");a.setIcon("/img/ico-marker2.png");var d=document.getElementById("contactus");d.classList.remove("hidden")}var widget=app.view.getCurrentWidget(),template="/templates/block/page/contact.html";run()},app.view.wfn["find-a-dealer"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=k;a.t=app.view.getTranslationsFromData(a),f(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[l];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+l+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(k),e(),j()}function e(a){var b=new google.maps.LatLng(49.3159955,32.0068446),c=6;a&&app.logger["var"](a),$.isEmptyObject(a)||$.isEmptyObject(a.center)||(b=new google.maps.LatLng(a.center.split(",")[0],a.center.split(",")[1])),!$.isEmptyObject(a)&&a.zoom&&(c=a.zoom);var d={scrollwheel:!1,center:b,zoom:c,mapTypeId:google.maps.MapTypeId.ROADMAP},f=new google.maps.Map(document.getElementById("mapresult"),d);markers=[];var g=document.getElementById("find-a-dealer-map-input-search"),i=new google.maps.places.Autocomplete(g,{types:["(cities)"],componentRestrictions:{country:"ua"}});google.maps.event.addListener(i,"place_changed",function(){var a=i.getPlace();if(a.geometry){for(var b,c=0;b=markers[c];c++)b.setMap(null);if(!$.isEmptyObject(i.getPlace())&&!$.isEmptyObject(i.getPlace())&&!$.isEmptyObject(i.getPlace().name)){var d=i.getPlace().name;app.logger["var"](i.getPlace()),app.logger.text(d);var e="."+toCodeValue(d);app.logger.text(e),$.isEmptyObject(app.view.$grid)||app.view.$grid.isotope({filter:e}),app.view.mapFilterValue=e}markers=[];var g=new google.maps.LatLngBounds;g.extend(a.geometry.location),f.fitBounds(g),f.setZoom(11)}}),google.maps.event.addListener(f,"bounds_changed",function(){var a=f.getBounds();i.setBounds(a)}),$(g).change(function(){$(this).val()?app.view.initializeMap=!1:(e(),app.view.initializeMap=!0,$.isEmptyObject(app.view.$grid)||app.view.$grid.isotope({filter:"*"}))});var j=[];$.each(app.view.dealers,function(b,c){if(!$.isEmptyObject(a)&&!$.isEmptyObject(a.filter)){if("salon"==a.filter&&$.isEmptyObject(c.salon_id))return;if("service"==a.filter&&$.isEmptyObject(c.service_id))return;if("pro"==a.filter&&$.isEmptyObject(c.dealers_pro))return}var d=new google.maps.LatLng(c.gps_x,c.gps_y),e=new google.maps.Marker({position:d,map:f,icon:"/img/ico-marker3.png",dealer:c,scale:4});j.push(e),google.maps.event.addListener(e,"click",function(){app.logger["var"](e.dealer),h(e.dealer),$("html, body").animate({scrollTop:$("#find-a-dealer-selected-dealer-block").offset().top+$("#find-a-dealer-selected-dealer-block").outerHeight()-$(window).height()});for(var a=0;a<j.length;a++)j[a].setIcon("/img/ico-marker3.png");e.setIcon("/img/ico-marker2.png")})})}function f(a){var b={controller:"salon",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){app.view.dealers=b,g(a)})}function g(a){var b={controller:"service",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){$.each(app.view.dealers,function(a,c){$.each(b,function(d,e){e.gps_coords==c.gps_coords&&e.dealers_id==c.dealers_id&&($.extend(app.view.dealers[a],e),b[d]=!1)})}),$.each(b,function(a,b){$.isEmptyObject(b)||app.view.dealers.push(b)}),a.dealers=i(app.view.dealers),c(a)})}function h(a){var b=app.router.locale;"uk"==b&&(b="ua");var c,d=$("#find-a-dealer-selected-dealer-block");d.show(),$("#find-a-dealer-selected-dealer-block-message").hide(),c=a["dealers_name_"+b],d.find(".fdealer_item__head").html(c),c="https://www.google.com.ua/maps/place/@"+a.gps_coords.replace(/\ /g,"")+",17z/data=!4m2!3m1!1s0x40d4cefec397bd8f:0xd344af779861fc77",d.find(".go-to-map").attr("href",c),c=a["city_name_"+b],d.find(".town").html(c),$.isEmptyObject(a["service_adres_"+b])||(c=a["service_adres_"+b]),$.isEmptyObject(a["salon_adres_"+b])||(c=a["salon_adres_"+b]),d.find(".street").html(c),d.find(".salon-title").hide(),d.find(".salon-phone").hide(),d.find(".service-title").hide(),d.find(".service-phone").hide(),d.find(".services-icon-salon").hide(),d.find(".services-icon-service").hide(),d.find(".services-icon-pro").hide(),$.isEmptyObject(a.salon_phone)||(c=a.salon_phone,d.find(".salon-title").show(),d.find(".salon-phone").show(),d.find(".salon-phone").html(c)),$.isEmptyObject(a.service_phone)||(c=a.service_phone,d.find(".service-title").show(),d.find(".service-phone").show(),d.find(".service-phone").html(c)),$.isEmptyObject(a.salon_id)||(d.find(".services-icon-salon").show(),d.find(".salon-service-url-link").attr("href",a.salon_url)),$.isEmptyObject(a.service_id)||(d.find(".services-icon-service").show(),d.find(".salon-service-url-link").attr("href",a.service_url)),$.isEmptyObject(a.dealers_pro)||d.find(".services-icon-pro").show()}function i(a){var b=app.router.locale;return"uk"==b&&(b="ua"),$.each(a,function(c,d){a[c].title=d["dealers_name_"+b],a[c].town=d["city_name_"+b],$.isEmptyObject(d["service_adres_"+b])||(a[c].street=d["service_adres_"+b]),$.isEmptyObject(d["salon_adres_"+b])||(a[c].street=d["salon_adres_"+b]),a[c].gpsUrl="https://www.google.com.ua/maps/place/@"+d.gps_coords.replace(/\ /g,"")+",17z/data=!4m2!3m1!1s0x40d4cefec397bd8f:0xd344af779861fc77",a[c].dataFilter=toCodeValue(d.city_name_ru)+" "+toCodeValue(d.city_name_ua);var e=d.gps_coords.replace(/\ /g,"").split(",");a[c].gps_x=e[0],a[c].gps_y=e[1],$.isEmptyObject(d.salon_id)||(a[c].websiteUrl=d.salon_url,a[c].dataFilter=a[c].dataFilter+" data-filter-salon"),$.isEmptyObject(d.service_id)||(a[c].websiteUrl=d.service_url,a[c].dataFilter=a[c].dataFilter+" data-filter-service"),$.isEmptyObject(d.dealers_pro)||(a[c].dataFilter=a[c].dataFilter+" data-filter-pro"),c%3==0&&(a[c].firstInRow=!0),(c+1)%3==0&&(a[c].lastInRow=!0)}),a}function j(){$("#find-a-dealer-filter-salon").click(function(){e({filter:"salon"});var a=$("#find-a-dealer-filter-salon-title").html();$("#find-a-dealer-filter-selected").html(a.replace("<br>"," ")),$("#find-a-dealer-filter-selected-del").show(),$(".fd_box__selected h4").show(),$(".fd_box__selected-items").show()}),$("#find-a-dealer-filter-service").click(function(){e({filter:"service"});var a=$("#find-a-dealer-filter-service-title").html();$("#find-a-dealer-filter-selected").html(a.replace("<br>"," ")),$("#find-a-dealer-filter-selected-del").show(),$(".fd_box__selected h4").show(),$(".fd_box__selected-items").show()}),$("#find-a-dealer-filter-pro").click(function(){e({filter:"pro"});var a=$("#find-a-dealer-filter-pro-title").html();$("#find-a-dealer-filter-selected").html(a.replace("<br>"," ")),$("#find-a-dealer-filter-selected-del").show(),$(".fd_box__selected h4").show(),$(".fd_box__selected-items").show()}),$("#find-a-dealer-filter-selected-del").click(function(){if(e(),!$.isEmptyObject(app.view.$grid)&&!$.isEmptyObject(app.view.mapFilterValue)){var a=app.view.mapFilterValue;app.view.$grid.isotope({filter:a})}$(".fd_box__list .fd_box__item--active").removeClass("fd_box__item--active"),$("#find-a-dealer-filter-selected").html("*"),$("#find-a-dealer-filter-selected-del").hide(),$(".fd_box__selected h4").hide(),$(".fd_box__selected-items").hide()}),$("#find-a-dealer-filter-selected-refresh").click(function(){if(e(),!$.isEmptyObject(app.view.$grid)&&!$.isEmptyObject(app.view.mapFilterValue)){var a=app.view.mapFilterValue;app.view.$grid.isotope({filter:a})}$(".fd_box__list .fd_box__item--active").removeClass("fd_box__item--active"),$("#find-a-dealer-filter-selected").html("*"),$("#find-a-dealer-filter-selected-del").hide(),$(".fd_box__selected h4").hide(),$(".fd_box__selected-items").hide()}),$(".go-to-local-gps_coords").click(function(){var a=$(this).attr("map-center").replace(/\ /g,""),b=$(this).attr("dealer-id");$.each(app.view.dealers,function(a,c){return b==c.dealers_id?void h(c):void 0}),$("#map-tab-a").click(),$(window).scrollTop("220"),setTimeout(function(){e({center:a,zoom:12})},200)}),$("#map-tab-a").on("click",function(){setTimeout(function(){$(".fd_box__list .fd_box__item--active").click(),app.view.initializeMap&&e()},200)})}var k=app.view.getCurrentWidget(),l="/templates/block/page/find-a-dealer.html";a()},app.view.wfn.models=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;a.t=app.view.getTranslationsFromData(a);var b=a.order_by;"desc"==a.sort_order&&(b="-"+b);var d={fields:"id,slug,title,price,thumbnail_base_url,thumbnail_path","per-page":a.count,sort:b,expand:"firstInfo",where:{locale:app.config.frontend_app_locale,domain_id:app.config.frontend_app_domain_id}};$.getJSON(app.config.frontend_app_api_url+"/db/models",d,function(b){b.items[0]&&($.extend(a,b),$.each(a.items,function(b,c){a.items[b].previewImg=c.thumbnail_base_url+"/"+c.thumbnail_path,c.firstInfo&&(a.items[b].viewUrl=app.view.helper.preffix+"/info/"+c.firstInfo.slug)}),a.viewAllUrl="#",c(a)),b.items[0]||(d.where.domain_id=app.config.frontend_app_default_domain_id,$.getJSON(app.config.frontend_app_api_url+"/db/models",d,function(b){$.extend(a,b),$.each(a.items,function(b,c){a.items[b].previewImg=c.thumbnail_base_url+"/"+c.thumbnail_path,c.firstInfo&&(a.items[b].viewUrl=app.view.helper.preffix+"/info/"+c.firstInfo.slug)}),a.viewAllUrl="#",c(a)}))})}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/block/page/models.html";a()},app.view.wfn.news=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;a.t=app.view.getTranslationsFromData(a);var b=a.order_by;"desc"==a.sort_order&&(b="-"+b);var d={fields:"id,slug,title,description,thumbnail_base_url,thumbnail_path,description,video_base_url,video_path","per-page":a.count,sort:b,where:{locale:app.config.frontend_app_locale,domain_id:app.config.frontend_app_domain_id}};$.getJSON(app.config.frontend_app_api_url+"/db/articles",d,function(b){b.items[0]&&($.extend(a,b),$.each(a.items,function(b,c){a.items[b].previewImg=c.thumbnail_base_url+"/"+c.thumbnail_path,a.items[b].viewUrl=app.view.helper.preffix+"/article/"+c.slug}),a.urlToNews=app.view.helper.preffix+"/news",c(a)),b.items[0]||(d.where.domain_id=app.config.frontend_app_default_domain_id,$.getJSON(app.config.frontend_app_api_url+"/db/articles",d,function(b){$.extend(a,b),$.each(a.items,function(b,c){a.items[b].previewImg=c.thumbnail_base_url+"/"+c.thumbnail_path,a.items[b].viewUrl=app.view.helper.preffix+"/article/"+c.slug}),a.urlToNews=app.view.helper.preffix+"/news",c(a)}))})}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/block/page/news.html";a()},app.view.wfn.promos=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;a.t=app.view.getTranslationsFromData(a);var b=a.order_by;"desc"==a.sort_order&&(b="-"+b);var d={fields:"id,slug,title,description,thumbnail_base_url,thumbnail_path,description,video_base_url,video_path","per-page":a.count,sort:b,where:{locale:app.config.frontend_app_locale,domain_id:app.config.frontend_app_domain_id}};$.getJSON(app.config.frontend_app_api_url+"/db/promos",d,function(b){b.items[0]&&($.extend(a,b),$.each(a.items,function(b,c){a.items[b].previewImg=c.thumbnail_base_url+"/"+c.thumbnail_path,a.items[b].viewUrl=app.view.helper.preffix+"/promo/"+c.slug}),a.urlToNews=app.view.helper.preffix+"/promos",c(a)),b.items[0]||(d.where.domain_id=app.config.frontend_app_default_domain_id,$.getJSON(app.config.frontend_app_api_url+"/db/promos",d,function(b){$.extend(a,b),$.each(a.items,function(b,c){a.items[b].previewImg=c.thumbnail_base_url+"/"+c.thumbnail_path,a.items[b].viewUrl=app.view.helper.preffix+"/promo/"+c.slug}),a.urlToNews=app.view.helper.preffix+"/promos",c(a)}))})}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/block/page/promos.html";a()},app.view.wfn["articles-part"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e,b=a.order_by;"desc"==a.sort_order&&(b="-"+b);var d={fields:"id,slug,title,description,thumbnail_base_url,thumbnail_path,description,video_base_url,video_path","per-page":a.count,sort:b,where:{locale:app.config.frontend_app_locale,domain_id:app.config.frontend_app_domain_id}};$.getJSON(app.config.frontend_app_api_url+"/db/articles",d,function(b){b.items[0]&&($.extend(a,b),$.each(a.items,function(b,c){a.items[b].previewImg=c.thumbnail_base_url+"/"+c.thumbnail_path,a.items[b].viewUrl=app.view.helper.preffix+"/article/"+c.slug,a.items[b].description=c.description}),a.urlToNews=app.view.helper.preffix+"/news",c(a)),b.items[0]||(d.where.domain_id=app.config.frontend_app_default_domain_id,$.getJSON(app.config.frontend_app_api_url+"/db/articles",d,function(b){$.extend(a,b),$.each(a.items,function(b,c){a.items[b].previewImg=c.thumbnail_base_url+"/"+c.thumbnail_path,a.items[b].viewUrl=app.view.helper.preffix+"/article/"+c.slug,a.items[b].description=c.description}),a.urlToNews=app.view.helper.preffix+"/news",c(a)}))})}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/block/part/articles-part.html";a()},app.view.wfn.header=function(){var a="/templates/block/part/header.html";if(!app.view.headerLoaded){app.logger.func("addHeader");var b={fields:"id,slug,title,body,before_body,after_body,on_scenario",where:{slug:"header",locale:app.config.frontend_app_locale,domain_id:app.config.frontend_app_domain_id}};$.getJSON(app.config.frontend_app_api_url+"/db/blocks",b,function(c){if(c.items[0]&&"extend"!=c.items[0].on_scenario){var d=c.items[0].body.replace(/^\[/,"").replace(/\]$/,""),e=JSON.parse(d);e.t=app.view.getTranslationsFromData(e),e.links=app.view.getLinksFromData(e),e.isRu="ru-RU"==app.config.frontend_app_locale?!0:!1,e.isEn="en-US"==app.config.frontend_app_locale?!0:!1,e.isUk="uk-UA"==app.config.frontend_app_locale?!0:!1,e.urlToHome=app.view.helper.preffix+"/home",e.urlToLocale=app.view.helper.preffix,$.each(e.menu,function(a,b){"@frontend"==b.host&&(e.menu[a].host=app.view.helper.preffix)}),app.config.frontend_app_domain_id!=app.config.frontend_app_default_domain_id&&(e.menu=e.menu.filter(function(a){return"/find-a-dealer"==a.url?!1:!0}));var f=app.config.frontend_app_files_midified[a];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+a+"?v="+f,function(a){app.logger["var"](e),$(a(e)).insertBefore($("#container")),app.view.headerLoaded=!0,setTimeout(function(){app.view.changeLangSwitchUrls()},2e3)})}if(!c.items[0]||"extend"==c.items[0].on_scenario){b.where.domain_id=app.config.frontend_app_default_domain_id;var g={};c.items[0]&&(c.items[0].before_body&&(g.domain_before_body=c.items[0].before_body),c.items[0].after_body&&(g.domain_after_body=c.items[0].after_body),c.items[0].on_scenario&&(g.domain_on_scenario=c.items[0].on_scenario)),$.getJSON(app.config.frontend_app_api_url+"/db/blocks",b,function(b){var c=b.items[0].body.replace(/^\[/,"").replace(/\]$/,""),b=JSON.parse(c);$.extend(b,g),b.domain_before_body&&b.domain_before_body[0]&&(b.domain_before_body=JSON.parse(b.domain_before_body)[0].text),
b.domain_after_body&&b.domain_after_body[0]&&(b.domain_after_body=JSON.parse(b.domain_after_body)[0].text),b.t=app.view.getTranslationsFromData(b),b.links=app.view.getLinksFromData(b),b.isRu="ru-RU"==app.config.frontend_app_locale?!0:!1,b.isEn="en-US"==app.config.frontend_app_locale?!0:!1,b.isUk="uk-UA"==app.config.frontend_app_locale?!0:!1,b.urlToHome=app.view.helper.preffix+"/home",b.urlToLocale=app.view.helper.preffix,$.each(b.menu,function(a,c){"@frontend"==c.host&&(b.menu[a].host=app.view.helper.preffix)}),app.config.frontend_app_domain_id!=app.config.frontend_app_default_domain_id&&(b.menu=b.menu.filter(function(a){return"/find-a-dealer"==a.url?!1:!0}));var d=app.config.frontend_app_files_midified[a];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+a+"?v="+d,function(a){app.logger["var"](b),$(a(b)).insertBefore($("#container")),app.view.headerLoaded=!0,setTimeout(function(){app.view.changeLangSwitchUrls()},2e3)})})}})}},app.view.wfn.footer=function(){var a="/templates/block/part/footer.html";if(!app.view.footerLoaded){app.logger.func("addFooter");var b={fields:"id,slug,title,body,before_body,after_body,on_scenario",where:{slug:"footer",locale:app.config.frontend_app_locale,domain_id:app.config.frontend_app_domain_id}};$.getJSON(app.config.frontend_app_api_url+"/db/blocks",b,function(c){if(c.items[0]&&"extend"!=c.items[0].on_scenario){var d=c.items[0].body.replace(/^\[/,"").replace(/\]$/,""),e=JSON.parse(d);e.t=app.view.getTranslationsFromData(e),e.links=app.view.getLinksFromData(e),e.urlToLocale=app.view.helper.preffix,$.each(e.menu,function(a,b){"@frontend"==b.host&&(e.menu[a].host=app.view.helper.preffix)}),app.config.frontend_app_domain_id!=app.config.frontend_app_default_domain_id&&(e.menu=e.menu.filter(function(a){return"/find-a-dealer"==a.url?!1:!0}));var f=app.config.frontend_app_files_midified[a];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+a+"?v="+f,function(a){app.logger["var"](e),$(a(e)).insertAfter($("#container")),app.view.footerLoaded=!0})}if(!c.items[0]||"extend"==c.items[0].on_scenario){b.where.domain_id=app.config.frontend_app_default_domain_id;var g={};c.items[0]&&(c.items[0].before_body&&(g.domain_before_body=c.items[0].before_body),c.items[0].after_body&&(g.domain_after_body=c.items[0].after_body),c.items[0].on_scenario&&(g.domain_on_scenario=c.items[0].on_scenario)),$.getJSON(app.config.frontend_app_api_url+"/db/blocks",b,function(b){var c=b.items[0].body.replace(/^\[/,"").replace(/\]$/,""),d=JSON.parse(c);$.extend(d,g),d.domain_before_body&&d.domain_before_body[0]&&(d.domain_before_body=JSON.parse(d.domain_before_body)[0].text),d.domain_after_body&&d.domain_after_body[0]&&(d.domain_after_body=JSON.parse(d.domain_after_body)[0].text),d.t=app.view.getTranslationsFromData(d),d.links=app.view.getLinksFromData(d),d.urlToLocale=app.view.helper.preffix,$.each(d.menu,function(a,b){"@frontend"==b.host&&(d.menu[a].host=app.view.helper.preffix)}),app.config.frontend_app_domain_id!=app.config.frontend_app_default_domain_id&&(d.menu=d.menu.filter(function(a){return"/find-a-dealer"==a.url?!1:!0}));var e=app.config.frontend_app_files_midified[a];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+a+"?v="+e,function(a){app.logger["var"](d),$(a(d)).insertAfter($("#container")),app.view.footerLoaded=!0})})}})}},app.view.wfn["bloglist-bottom"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/block/bloglist-bottom.html";a()},app.view.wfn["bloglist-top"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/block/bloglist-top.html";a()},app.view.wfn["i-want-to"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;a.urlSite=app.view.helper.preffix,a.urlToLoadBooking="",c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/block/i-want-to.html";a()},app.view.wfn.social=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()"),e(k)}function c(a){app.logger["var"](a),app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[l];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+l+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(k)}function e(a){FB.api("https://graph.facebook.com/renault.ua?locale=ru_RU&fields=posts.limit(18){full_picture,message,link,created_time}&access_token=677676795700961|6f7c3417d116450a1ff568ca9e64eed3",function(b){if(!b||b.error)return"error";obj=b.posts.data,fbItems={};for(var c=0 in obj)fbItems[c]={current_date:h(obj[c].created_time,app.router.locale),full_picture:obj[c].full_picture,link_:obj[c].link,message:j(obj[c].message,app.router.locale,a.wordSlice)};var d=Object.keys(fbItems).map(function(a){return fbItems[a]});a.fbGroup=items_array_chunk(d,2),f(a)})}function f(a){function b(a,b){$.ajax({method:"GET",url:a,dataType:"jsonp",jsonp:"callback",data_app:b,success:function(a){var c=a.data;app.logger["var"](a.data);for(var d=[],e=0;e<c.length;e++)d[e]=[],d[e].title="Instagram Title",d[e].tbnl=a.data[e].images.standard_resolution.url,d[e].message=i(a.data[e].caption.text,app.router.locale,b.wordSlice),d[e].url=a.data[e].link,d[e].tags=a.data[e].tags;app.logger["var"]("data.data"),app.logger["var"](a.data),app.logger["var"]("data.data"),b.instItemGroup=items_array_chunk(d,2)},error:function(a,b,c){alert("Check you internet Connection")}})}var c="https://api.instagram.com/v1/users/2088219317/media/recent/?client_id=fa8f6abac0704d4d840759aa909201d8&count=18";b(c,a),g(a)}function g(a){function b(a){gapi.client.setApiKey("AIzaSyCWzGO9Vo1eYOW4R4ooPdoFLmNk6zkc0Jw"),gapi.client.load("youtube","v3",function(){var b="renaultua";d(b,a)})}function d(a,b){b.test="test";var d=gapi.client.youtube.search.list({q:a,part:"snippet",maxResults:18});d.execute(function(a){$("#results").empty();var d=a.result.items,e=[],f=[],g=0;$.each(d,function(a,b){g++,e.push(b.snippet.title),f.push(b.snippet.thumbnails.high.url),vidTitle=b.snippet.title,vidThumburl=b.snippet.thumbnails.high.url});for(var h=[],g=0;g<d.length;g++)h[g]=[],h[g].title=d[g].snippet.title,h[g].tbnl=d[g].snippet.thumbnails.high.url,h[g].videoId=d[g].id.videoId;app.logger["var"](h),b.YtGroup=items_array_chunk(h,2),c(b)})}b(a)}function h(a,b){var c=moment(a).locale(b);return c.fromNow()}function i(a,b,c){return(void 0!==a||""!==a||" "!==a||is_string(a))&&(null!=a.match(/#/)&&(a=a.split("#")[0]),null!=a.match(/\/\//)&&(("uk"==b||void 0===b)&&(a=a.split("//")[0],a=a.split(" ").map(String),a=a.slice(0,c),a=a.join(" ")),"ru"==b&&(a=a.split("//")[1],a=a.split(" ").map(String),a=a.slice(0,c),a=a.join(" ")))),a}function j(a,b,c){if(void 0!==a&&""!==a){if(null==a.match(/\/\//))return a;null!==a.match(/\:\/\//)?(("uk"==b||void 0===b)&&(a=a.split("//")[0]+a.split("//")[1],a=a.split(" ").map(String),a=a.slice(0,c),a=a.join(" "),a=a.replace(new RegExp("http:","g"),"http://")),"ru"==b&&(a=a.split("//")[2]+a.split("//")[3],a=a.split(" ").map(String),a=a.slice(0,c),a=a.join(" "),a=a.replace(new RegExp("http:","g"),"http://"))):(("uk"==b||void 0===b)&&(a=a.split("//")[0],a=a.split(" ").map(String),a=a.slice(0,c),a=a.join(" ")),"ru"==b&&(a=a.split("//")[1],a=a.split(" ").map(String),a=a.slice(0,c),a=a.join(" ")))}else a=" ";return" "!==a&&(a+=" ..."),a}var k=app.view.getCurrentWidget(),l="/templates/block/social.html";a()},app.view.wfn["promo-wysiwyg"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/editor/promo-wysiwyg.html";a()},app.view.wfn.sceditor=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/editor/sceditor.html";a()},app.view.wfn.wysiwyg=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/editor/wysiwyg.html";a()},app.view.wfn["add-image"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/image/add-image.html";a()},app.view.wfn.gallery=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;console.log(a),console.log("data"),c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/image/gallery.html";a()},app.view.wfn["image-slider-revolution"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/image/image-slider-revolution.html";a()},app.view.wfn.intro=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/image/intro.html";a()},app.view.wfn["simple-photo"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/image/simple-photo.html";a()},app.view.wfn["intro-text"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/text/intro-text.html";a()},app.view.wfn["promo-subtitle"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/text/promo-subtitle.html";a()},app.view.wfn["promo-title"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/text/promo-title.html";a()},app.view.wfn["section-text"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/text/section-text.html";a()},app.view.wfn["small-text"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/text/small-text.html";a()},app.view.wfn.video=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.container.append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/video/video.html";a()};