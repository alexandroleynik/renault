function urlencode(a){return encodeURIComponent(a).replace(/%20/g,"+")}function urldecode(a){return uri=decodeURIComponent(a)}function preloadStart(){document.getElementById("loaderImage").style.backgroundImage="url("+cImageSrc+")",document.getElementById("loaderImage").style.width=cWidth+"px",document.getElementById("loaderImage").style.height=cHeight+"px",FPS=Math.round(100/cSpeed),SECONDS_BETWEEN_FRAMES=1/FPS,cPreloaderTimeout=setTimeout("preloadFadeIn()",SECONDS_BETWEEN_FRAMES/1e3)}function preloadFadeIn(){cXpos+=cFrameWidth,cIndex+=1,cIndex>=cTotalFrames&&(cXpos=0,cIndex=0),document.getElementById("loaderImage")&&(document.getElementById("loaderImage").style.backgroundPosition=-cXpos+"px 0"),cPreloaderTimeout=setTimeout("preloadFadeIn()",1e3*SECONDS_BETWEEN_FRAMES),$(".preload-mask").fadeIn()}function preloadStop(){$(".preload-mask").fadeOut(),clearTimeout(cPreloaderTimeout),cPreloaderTimeout=!1,$(".nav-root").removeClass("nav-is-open"),$("html, body").removeClass("nav-is-activated"),$(".nav-container").removeAttr("style")}function preloadLogoEnd(){preloadStop()}function preloadFadeOut(){preloadStop()}function items_array_chunk(a,b){for(var c,d=0,e=-1,f=a.length,g=[];f>d;d++)(c=d%b)?g[e][c]=a[d]:g[++e]=[a[d]];var h=[];return $.each(g,function(a,b){h[a]={items:b}}),h}function translit(a){var b,c={"А":"A","а":"a","Б":"B","б":"b","В":"V","в":"v","Г":"G","г":"g","Д":"D","д":"d","Е":"E","е":"e","Ё":"Yo","ё":"yo","Ж":"Zh","ж":"zh","З":"Z","з":"z","И":"I","и":"i","Й":"Y","й":"y","К":"K","к":"k","Л":"L","л":"l","М":"M","м":"m","Н":"N","н":"n","О":"O","о":"o","П":"P","п":"p","Р":"R","р":"r","С":"S","с":"s","Т":"T","т":"t","У":"U","у":"u","Ф":"F","ф":"f","Х":"Kh","х":"kh","Ц":"Ts","ц":"ts","Ч":"Ch","ч":"ch","Ш":"Sh","ш":"sh","Щ":"Sch","щ":"sch","Ъ":'"',"ъ":'"',"Ы":"Y","ы":"y","Ь":"'","ь":"'","Э":"E","э":"e","Ю":"Yu","ю":"yu","Я":"Ya","я":"ya"},d="";for(b in c)d+=b;return d=new RegExp("["+d+"]","g"),b=function(a){return a in c?c[a]:""},a.replace(d,b)}function toCodeValue(a){return translit(a).replace(/[^\w]/g,"-").toLowerCase()}function is_string(a){return"string"==typeof a}window.fbAsyncInit=function(){FB.init({appId:window.server_config.frontend_app_facebook_app_id,xfbml:!0,version:"v2.3"})},function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(d,e))}(document,"script","facebook-jssdk"),$(document).ready(function(){$(".inp-decorate").length&&$(".inp-decorate").styler(),$(".single_post_slide_list").length&&$(".single_post_slide_list").cycle({fx:"carousel",carouselVertical:!0,paused:!0,speed:300,autoScrolling:!1,carouselVisible:3,prev:".single_post_slide_list__prev",next:".single_post_slide_list__next",slides:"> .item"}),$("#mobile-popup .big-close-btn").click(function(){$("#mobile-popup").fadeOut(1600)}),$("#mobile-popup .close-btn").click(function(){$("#mobile-popup").fadeOut(1600)})});var cSpeed=9,cWidth=160,cHeight=20,cTotalFrames=13,cFrameWidth=160,cImageSrc=server_config.frontend_app_web_url+"/img/sprites.gif",cImageTimeout=!1,cIndex=0,cXpos=0,cPreloaderTimeout=!1,SECONDS_BETWEEN_FRAMES=0;$(function(){var a=null;$(".show-menu").click(function(b){b.preventDefault(),$(".nav-container").css({"min-height":$(window).height()}),clearTimeout(a),$("html, body").addClass("nav-is-activated"),a=setTimeout(function(){$(".nav-root").addClass("nav-is-open")},20)}),$(".close-menu").click(function(b){b.preventDefault(),clearTimeout(a),$(".nav-root").removeClass("nav-is-open"),a=setTimeout(function(){$("html, body").removeClass("nav-is-activated"),$(".nav-container").removeAttr("style")},300)}),$(window).resize(function(){$(window).width()>=960&&(clearTimeout(a),$(".nav-root").removeClass("nav-is-open"),$("html, body").removeClass("nav-is-activated"),$(".nav-container").removeAttr("style"))})}),window.app=function(){function a(){app.logger.func("init()"),g.container=$(app.config.frontend_app_conainer),e()}function b(){app.logger.func("bindEventListeners()"),d(),preloadStart()}function c(){app.logger.func("process()"),app.router.run(location.pathname)}function d(){app.logger.func("bindAjaxLinks()"),$(".ajaxLink").off("click"),$(".ajaxLink").click(fClickAjaxLink)}function e(){Handlebars.registerHelper("link",function(a,b){a=Handlebars.Utils.escapeExpression(a),b=Handlebars.Utils.escapeExpression(b);var c='<a href="'+b+'">'+a+"</a>";return new Handlebars.SafeString(c)}),Handlebars.registerHelper("counter",function(a,b){return parseInt(a)+1}),Handlebars.registerHelper("counter0",function(a,b){return parseInt(a)}),Handlebars.registerHelper("iff",function(a,b,c,d){var e=!1;switch(b){case"==":e=a==c;break;case">":e=a>c;break;case"<":e=c>a;break;default:throw"Unknown operator "+b}return e?d.fn(this):d.inverse(this)})}function f(a,b){a!=window.location&&window.history.pushState(null,null,a),app.router.run(a+b),$(window).off("popstate"),$(window).bind("popstate",function(){location.hash||(app.logger.func("popstate event for "+location.pathname+b),app.router.run(location.pathname+b))})}var g={container:null,isFirstLoad:!0,run:function(){app.logger.page(location.href),app.logger.func("run()"),a(),b(),c()},bindContainerAjaxLinks:function(a){app.logger.func("bindContainerAjaxLinks( "+a+")"),app.config.frontend_app_conainer!=a?(app.container.find(a).find(".ajaxLink").off("click"),app.container.find(a).find(".ajaxLink").click(fClickAjaxLink),app.logger.text("!=selector")):(app.logger.text("=selector"),app.container.find(".ajaxLink").off("click"),app.container.find(".ajaxLink").click(fClickAjaxLink))},bindAllAjaxLinks:function(){app.logger.func("bindAllAjaxLinks"),$("body").find(".ajaxLink").off("click"),$("body").find(".ajaxLink").click(fClickAjaxLink)},changePageAjax:function(a){app.logger.prefix="[app]",app.logger.page(location.href),app.logger.func("fClickAjaxLink()"),app.logger.resetTimer(),app.isFirstLoad=!1,sessionStorage.setItem("app.previous_url",location.href);var b="";preloadFadeIn(),setTimeout(function(){f(a,b)},1e3)}};return fClickAjaxLink=function(){app.logger.prefix="[app]",app.logger.page(location.href),app.logger.func("fClickAjaxLink()"),app.logger.resetTimer(),app.isFirstLoad=!1,sessionStorage.setItem("app.previous_url",location.href);var a=$(this).attr("href"),b="";return preloadFadeIn(),setTimeout(function(){f(a,b)},1e3),!1},g}(),window.app.config=window.server_config,window.app.logger=function(){function a(a){return 0==app.config.frontend_app_debug?!0:void console.dir(a)}function b(a,b){if(0==app.config.frontend_app_debug)return!0;var d="color: green";console.log("%c "+b+" ["+c()+" s] "+window.app.logger.prefix+" "+a+" ",d)}function c(){return void 0==d&&(d=(new Date).getTime()),(((new Date).getTime()-d)/1e3).toFixed(2)}var d;return public={prefix:"[app]",page:function(a){0!=app.config.frontend_app_log_clear_page&&console.clear(),b(a,"")},func:function(a){b(a,"      ")},text:function(a){b(a,"            ")},"var":function(b){a(b)},resetTimer:function(){d=(new Date).getTime()}},public}(),window.app.router=function(){function a(a){app.logger["var"]($.urlParams("all"));var b={};return $.each($.urlParams("keys"),function(c,d){var e=unescape(d).toLowerCase();-1!=e.indexOf(a)&&(e=e.split("[")[1].replace(/]/,""),b[e]=$.urlParams("all")[d])}),app.logger["var"](b),b}function b(a){$.getJSON(app.config.frontend_app_api_url+a,{where:{slug:app.router.slug,locale:app.config.frontend_app_locale,domain_id:app.config.frontend_app_domain_id},fields:"id,slug,head,body,title,before_body,after_body,on_scenario",expand:"localeGroupPages"},function(b){if(b.items[0]&&"extend"!=b.items[0].on_scenario)app.view.renderPage(b.items[0]);else{var c={};b.items[0]&&(b.items[0].before_body&&(c.domain_before_body=b.items[0].before_body),b.items[0].after_body&&(c.domain_after_body=b.items[0].after_body),b.items[0].on_scenario&&(c.domain_on_scenario=b.items[0].on_scenario)),$.getJSON(app.config.frontend_app_api_url+a,{where:{slug:app.router.slug,locale:app.config.frontend_app_locale,domain_id:app.config.frontend_app_default_domain_id},fields:"id,slug,head,body,title,before_body,after_body,on_scenario",expand:"localeGroupPages"},function(a){$.extend(a.items[0],c),app.view.renderPage(a.items[0])})}})}function c(){var b=a(this.controller);alert(JSON.stringify(b)),app.view.renderPage(b)}return public={locale:null,controller:null,action:null,slug:null,run:function(a){app.logger.prefix="[app][router]",app.logger.func("router run "+a);var d=a.replace(/.+\/\/.+?\//,"").replace(/^\//,"").replace(/\?.+/,"").replace(/\/$/,"").split("/");switch(d.length){case 1:d[0]?(d[0]=d[0],d[1]="page",d[2]="view",d[3]="home"):(d[0]="uk",d[1]="page",d[2]="view",d[3]="home");break;case 2:d[3]=d[1],d[1]="page",d[2]="view";break;case 3:d[3]=d[2],d[2]="view"}switch(this.locale=d[0],this.controller=d[1],this.action=d[2],this.slug=d[3],app.logger.text("this.locale: "+this.locale),app.logger.text("this.controller: "+this.controller),app.logger.text("this.action: "+this.action),app.logger.text("this.slug: "+this.slug),this.controller){case"page":switch(this.action){case"view":b("/db/page");break;case"preview":c()}break;case"news":case"article":switch(this.action){case"view":b("/db/article");break;case"preview":c()}break;case"promo":switch(this.action){case"view":b("/db/promo");break;case"preview":c()}break;case"project":switch(this.action){case"view":b("/db/project");break;case"preview":c()}break;case"models":switch(this.action){case"view":b("/db/info");break;case"preview":c()}break;case"service":case"service-page":switch(this.action){case"view":b("/db/service-page");break;case"preview":c()}break;case"about-company":case"about-page":switch(this.action){case"view":b("/db/about-page");break;case"preview":c()}break;case"finance":case"finance-page":switch(this.action){case"view":b("/db/finance-page");break;case"preview":c()}}}},public}(),window.app.view=function(){function a(a){var b={},c=JSON.parse(a),d=0;return $.each(c,function(a,c){var f=e(c);if(!$.isEmptyObject(c)&&"tab_title"!=a&&"___"+f+"___"!=a){var g=f+"__"+d;d++,b[g]=c,b[g].widgetId=g,b[g].widgetName=f}}),b}function b(a){var b=null,c=null;if(a)var c=JSON.parse(a);return app.logger.text("HEAD"),app.logger["var"](c),c&&c.common&&c.common.title&&c.common.title.content&&(b=c.common.title.content),b||(b=app.page.title),b}function c(){$.each(app.page.widgets,function(a,b){app.container.append('<div id="widget-wrapper-'+a+'" class="widget-wrapper-'+b.widgetName+'"></div>'),j=app.page.widgets[a],j.uniqueKey=a,j.rootElementId="widget-wrapper-"+a,app.view.beforeWidget(j),app.view.wfn[b.widgetName]()}),setTimeout(function(){f()},2e3)}function d(){$("nav").find(".nav-active").removeClass("nav-active"),$('a[href*="'+location.pathname+'"]').addClass("nav-active"),$(".nav-dropdown-toggle").parent("li.active").removeClass("active")}function e(a){var b;return $.each(a,function(a,c){a.match(/___(.+)___/)&&(b=a.match(/___(.+)___/)[1])}),b}function f(){app.logger.func("afterPageRender()"),app.router.slug!==app.config.frontend_page_without_header_footer&&app.view.wfn.footer(),$(".main-container").show(),$("footer").show(),app.isFirstLoad?preloadLogoEnd():preloadFadeOut(),app.container.append($("<div/>").html(app.config.frontend_app_code_body_end).text()),$("img").attr("alt",app.page.title),i(),app.bindAllAjaxLinks(),setTimeout(function(){app.bindAllAjaxLinks()},3e3)}function g(){app.router.slug!==app.config.frontend_page_without_header_footer&&app.view.wfn.header(),app.container.html("")}function h(a){var b=a.body;return a.domain_before_body&&(b=a.domain_before_body+b),a.domain_after_body&&(b+=a.domain_after_body),b=b.replace(/\]\[/g,",").replace(/,,/g,",").replace(/\[,\]/g,"[]").replace(/\[,/g,"[").replace(/\,]/g,"]")}function i(){$(".widget-wrapper-wysiwyg s").wrapInner("<span></span>"),$('.widget-wrapper-wysiwyg input[type="radio"]').each(function(a,b){$(b).attr("id","radio-"+a),$(b).after('<label for ="radio-'+a+'">'+$(b).val()+"</label>")}),$('.widget-wrapper-wysiwyg input[type="checkbox"]').each(function(a,b){$(b).attr("id","checkbox-"+a),$(b).after('<label for ="checkbox-'+a+'">'+$(b).val()+"</label>")})}var j;return public={renderPage:function(e){return app.logger.prefix="[app][view]",e?e.body?this.isDealerBlackListPage(location.pathname)?(alert("Page not allowed."),!1):(app.page=e,app.page.body=h(app.page),document.title=b(app.page.head),app.page.widgets=a(app.page.body),this.helper.preffix=app.config.frontend_app_web_url+"/"+app.router.locale,app.logger.text("this.helper.preffix:"+this.helper.preffix),g(),d(),app.view.changeLangSwitchUrls(),void c()):(alert("Empty page."),!1):(alert("Page not found."),!1)},getCurrentWidget:function(){return j},beforeWidget:function(a){app.logger.prefix="[widget]["+a.widgetId+"]",app.logger["var"](a)},afterWidget:function(a){app.page.widgets[a.widgetId].rendered=!0,app.logger.prefix=""},helper:{preffix:null},getTranslationsFromData:function(a){if($.isEmptyObject(a.t))return{};var b={};return $.each(a.t,function(a,c){c.key&&c.value&&(b[c.key]=c.value)}),b},getLinksFromData:function(a){if($.isEmptyObject(a.links))return{};var b={};return $.each(a.links,function(a,c){"@frontend"==c.host&&(c.host=app.view.helper.preffix),b[c.key]=c.host+c.url}),b},changeLangSwitchUrls:function(){$("a[short-lang]").each(function(a,b){var c=location.pathname,d=$(b).attr("short-lang"),e="";c&&"/"!=c&&(c=c.replace(/^\/[\w]{2}/,"/"+d)),"/"==c?c+=d:c.length>3&&$.each(app.page.localeGroupPages,function(a,b){d==b.locale.replace(/-.+/,"")&&(c=c.replace(/\/[^\/]+$/,"/"+b.slug))}),e=app.config.frontend_app_frontend_url+c,location.search&&(e+=location.search),$(b).attr("href",e)})},isDealerBlackListPage:function(a){if(app.config.frontend_app_domain_id!=app.config.frontend_app_default_domain_id){var b=app.config.frontend_dealer_page_blacklist.split(","),c=b.indexOf(a.replace("/"+app.router.locale+"/",""));if(-1!=c)return!0}return!1}},public}(),app.view.wfn={},window.app.templateLoader=function(){return public={getTemplateAjax:function(a,b){var c,d;$.ajax({url:a,success:function(a){return c=a,d=Handlebars.compile(c),b?void b(d):d}})}},public}(),$(document).ready(function(){window.app.run()}),function(a,b,c){function d(a,b){function c(a){n("ajax error"),b.callback("There has been an error")}function d(){l.prompt(i,!1);for(var a=f.loading[m];a.length;)a.pop().success.apply(b,arguments);f.loaded[m]=arguments}var e={method:"GET",timeout:15e3},h=b._exec,i="GroupRuleExecution"===h.type?h.element.domElem:b.field,j=a.success,k=a.error,l=h.element.options,m=JSON?JSON.stringify(a):g(),o={success:j,error:k||c};if(f.loaded[m]){var p=f.loaded[m],q=o.success;return void q.apply(b,p)}if(f.loading[m]||(f.loading[m]=[]),f.loading[m].push(o),1===f.loading[m].length){l.prompt(i,"Checking...","load");var r={success:d,error:d};h.ajax=$.ajax($.extend(e,a,r))}}function e(a){$.extend(!0,this,a)}!function(a,b,c){"use strict";var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};t="notify",s=t+"js",v={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},l=["l","c","r"],z=["t","m","b"],p=["t","b","l","r"],q={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},r=function(a){var b;return b=[],$.each(a.split(/\W+/),function(a,c){var d;return d=c.toLowerCase().charAt(0),v[d]?b.push(d):void 0}),b},y={},f={name:"core",html:'<div class="'+s+'-wrapper">\n  <div class="'+s+'-arrow"></div>\n  <div class="'+s+'-container"></div>\n</div>',css:"."+s+"-corner {\n  position: fixed;\n  margin: 5px;\n  z-index: 1050;\n}\n\n."+s+"-corner ."+s+"-wrapper,\n."+s+"-corner ."+s+"-container {\n  position: relative;\n  display: block;\n  height: inherit;\n  width: inherit;\n  margin: 3px;\n}\n\n."+s+"-wrapper {\n  z-index: 1;\n  position: absolute;\n  display: inline-block;\n  height: 0;\n  width: 0;\n}\n\n."+s+"-container {\n  display: none;\n  z-index: 1;\n  position: absolute;\n  cursor: pointer;\n}\n\n."+s+"-text {\n  position: relative;\n}\n\n."+s+"-arrow {\n  position: absolute;\n  z-index: 2;\n  width: 0;\n  height: 0;\n}"},x={"border-radius":["-webkit-","-moz-"]},j=function(a){return y[a]},e=function(b,c){var d,e;if(!b)throw"Missing Style name";if(!c)throw"Missing Style definition";return(null!=(e=y[b])?e.cssElem:void 0)&&(a.console&&console.warn(""+t+": overwriting style '"+b+"'"),y[b].cssElem.remove()),c.name=b,y[b]=c,d="",c.classes&&$.each(c.classes,function(a,b){return d+="."+s+"-"+c.name+"-"+a+" {\n",$.each(b,function(a,b){return x[a]&&$.each(x[a],function(c,e){return d+="  "+e+a+": "+b+";\n"}),d+="  "+a+": "+b+";\n"}),d+="}\n"}),c.css&&(d+="/* styles for "+c.name+" */\n"+c.css),d?(c.cssElem=o(d),c.cssElem.attr("id","notify-"+c.name)):void 0},o=function(a){var b;b=g("style"),b.attr("type","text/css"),$("head").append(b);try{b.html(a)}catch(c){b[0].styleSheet.cssText=a}return b},u={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},n=function(a,b){var c;return c=function(){},c.prototype=a,$.extend(!0,new c,b)},h=function(a){return $.extend(u,a)},g=function(a){return $("<"+a+"></"+a+">")},k={},i=function(a){var b;return a.is("[type=radio]")&&(b=a.parents("form:first").find("[type=radio]").filter(function(b,c){return $(c).attr("name")===a.attr("name")}),a=b.first()),a},m=function(a,b,d){var e,f;if("string"==typeof d)d=parseInt(d,10);else if("number"!=typeof d)return;if(!isNaN(d))return e=v[q[b.charAt(0)]],f=b,a[e]!==c&&(b=v[e.charAt(0)],d=-d),a[b]===c?a[b]=d:a[b]+=d,null},w=function(a,b,c){if("l"===a||"t"===a)return 0;if("c"===a||"m"===a)return c/2-b/2;if("r"===a||"b"===a)return c-b;throw"Invalid alignment"},d=function(){function a(a,b,c){"string"==typeof c&&(c={className:c}),this.options=n(u,$.isPlainObject(c)?c:{}),this.loadHTML(),this.wrapper=$(f.html),this.wrapper.data(s,this),this.arrow=this.wrapper.find("."+s+"-arrow"),this.container=this.wrapper.find("."+s+"-container"),this.container.append(this.userContainer),a&&a.length&&(this.elementType=a.attr("type"),this.originalElement=a,this.elem=i(a),this.elem.data(s,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(b)}return a.prototype.loadHTML=function(){var a;if(a=this.getStyle(),this.userContainer=$(a.html),this.text=this.userContainer.find("[data-notify-text]"),0===this.text.length&&(this.text=this.userContainer.find("[data-notify-html]"),this.rawHTML=!0),0===this.text.length)throw"style: '"+name+"' HTML is missing a: 'data-notify-text' or 'data-notify-html' attribute";return this.text.addClass(""+s+"-text")},a.prototype.show=function(a,b){var c,d,e,f,g,h=this;if(d=function(){return a||h.elem||h.destroy(),b?b():void 0},g=this.container.parent().parents(":hidden").length>0,e=this.container.add(this.arrow),c=[],g&&a)f="show";else if(g&&!a)f="hide";else if(!g&&a)f=this.options.showAnimation,c.push(this.options.showDuration);else{if(g||a)return d();f=this.options.hideAnimation,c.push(this.options.hideDuration)}return c.push(d),e[f].apply(e,c)},a.prototype.setGlobalPosition=function(){var a,b,c,d,e,f,h,i;return i=this.getPosition(),h=i[0],f=i[1],e=v[h],a=v[f],d=h+"|"+f,b=k[d],b||(b=k[d]=g("div"),c={},c[e]=0,"middle"===a?c.top="45%":"center"===a?c.left="45%":c[a]=0,b.css(c).addClass(""+s+"-corner"),$("body").append(b)),b.prepend(this.wrapper)},a.prototype.setElementPosition=function(){var a,b,c,d,e,f,g,h,i,j,k,n,o,r,s,t,u,x,y,B,C,D,E,F,G,H,I,J,K;for(E=this.getPosition(),B=E[0],x=E[1],y=E[2],k=this.elem.position(),h=this.elem.outerHeight(),n=this.elem.outerWidth(),i=this.elem.innerHeight(),j=this.elem.innerWidth(),F=this.wrapper.position(),e=this.container.height(),f=this.container.width(),r=v[B],t=q[B],u=v[t],g={},g[u]="b"===B?h:"r"===B?n:0,m(g,"top",k.top-F.top),m(g,"left",k.left-F.left),K=["top","left"],G=0,I=K.length;I>G;G++)C=K[G],s=parseInt(this.elem.css("margin-"+C),10),s&&m(g,C,s);if(o=Math.max(0,this.options.gap-(this.options.arrowShow?c:0)),m(g,u,o),this.options.arrowShow){for(c=this.options.arrowSize,b=$.extend({},g),a=this.userContainer.css("border-color")||this.userContainer.css("background-color")||"white",H=0,J=p.length;J>H;H++)C=p[H],D=v[C],C!==t&&(d=D===r?a:"transparent",b["border-"+D]=""+c+"px solid "+d);m(g,v[t],c),A.call(p,x)>=0&&m(b,v[x],2*c)}else this.arrow.hide();return A.call(z,B)>=0?(m(g,"left",w(x,f,n)),b&&m(b,"left",w(x,c,j))):A.call(l,B)>=0&&(m(g,"top",w(x,e,h)),b&&m(b,"top",w(x,c,i))),this.container.is(":visible")&&(g.display="block"),this.container.removeAttr("style").css(g),b?this.arrow.removeAttr("style").css(b):void 0},a.prototype.getPosition=function(){var a,b,c,d,e,f,g,h;if(b=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),a=r(b),0===a.length&&(a[0]="b"),c=a[0],A.call(p,c)<0)throw"Must be one of ["+p+"]";return(1===a.length||(d=a[0],A.call(z,d)>=0&&(e=a[1],A.call(l,e)<0))||(f=a[0],A.call(l,f)>=0&&(g=a[1],A.call(z,g)<0)))&&(a[1]=(h=a[0],A.call(l,h)>=0?"m":"l")),2===a.length&&(a[2]=a[1]),a},a.prototype.getStyle=function(a){var b;if(a||(a=this.options.style),a||(a="default"),b=y[a],!b)throw"Missing style: "+a;return b},a.prototype.updateClasses=function(){var a,b;return a=["base"],$.isArray(this.options.className)?a=a.concat(this.options.className):this.options.className&&a.push(this.options.className),b=this.getStyle(),a=$.map(a,function(a){return""+s+"-"+b.name+"-"+a}).join(" "),this.userContainer.attr("class",a)},a.prototype.run=function(a,b){var c=this;return $.isPlainObject(b)?$.extend(this.options,b):"string"===$.type(b)&&(this.options.color=b),this.container&&!a?void this.show(!1):this.container||a?(this.text[this.rawHTML?"html":"text"](a),this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide?(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(function(){return c.show(!1)},this.options.autoHideDelay)):void 0):void 0},a.prototype.destroy=function(){return this.wrapper.remove()},a}(),$[t]=function(a,b,c){return a&&a.nodeName||a.jquery?$(a)[t](b,c):(c=b,b=a,new d(null,b,c)),a},$.fn[t]=function(a,b){return $(this).each(function(){var c;return c=i($(this)).data(s),c?c.run(a,b):new d($(this),a,b)}),this},$.extend($[t],{defaults:h,addStyle:e,pluginOptions:u,getStyle:j,insertCSS:o}),$(function(){return o(f.css).attr("id","core-notify"),$(b).on("click notify-hide","."+s+"-wrapper",function(a){var b;return b=$(this).data(s),b&&(b.options.clickToHide||"notify-hide"===a.type)?b.show(!1):void 0})})}(a,b),$.notify.addStyle("bootstrap",{html:"<div>\n<span data-notify-text></span>\n</div>",classes:{base:{"font-weight":"bold",padding:"8px 15px 8px 14px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#fcf8e3",border:"1px solid #fbeed5","border-radius":"4px","white-space":"nowrap","padding-left":"25px","background-repeat":"no-repeat","background-position":"3px 7px"},error:{color:"#B94A48","background-color":"#F2DEDE","border-color":"#EED3D7","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)"},success:{color:"#468847","background-color":"#DFF0D8","border-color":"#D6E9C6","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)"},info:{color:"#3A87AD","background-color":"#D9EDF7","border-color":"#BCE8F1","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)"},warn:{color:"#C09853","background-color":"#FCF8E3","border-color":"#FBEED5","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)"}}}),function(b){function d(){this.suppressLog||g("log",this,arguments)}function e(){g("warn",this,arguments)}function f(){g("info",this,arguments)}function g(d,e,f){if(a.console!==c&&a.console.isFake!==!0){var g=b.map(f,k);g[0]=[e.prefix,g[0],e.postfix].join("");var h="boolean"===b.type(g[g.length-1])?g.pop():null;h===!0&&a.console.group(g[0]),g[0]&&null===h&&(a.navigator.userAgent.indexOf("MSIE")>=0?a.console.log(g.join(",")):a.console[d].apply(a.console,g)),h===!1&&a.console.groupEnd()}}function h(a){return{log:function(){d.apply(a,arguments)},warn:function(){e.apply(a,arguments)},info:function(){f.apply(a,arguments)}}}a.console===c&&(a.console={isFake:!0});for(var i=["log","warn","info","group","groupCollapsed","groupEnd"],j=i.length-1;j>=0;j--)a.console[i[j]]===c&&(a.console[i[j]]=b.noop);if(b){var k=function(a){return a},l=function(a){return a=b.extend({},l.defaults,a),h(a)};l.defaults={suppressLog:!1,prefix:"",postfix:""},b.extend(l,h(l.defaults)),b.console===c&&(b.console=l),b.consoleNoConflict=l}}(jQuery);var f={loading:{},loaded:{}},g=function(){return g.curr++};g.curr=1,$.fn.verifyScrollView=function(a){var b=$(this).first();return 1!==b.length?$(this):$(this).verifyScrollTo(b,a)},$.fn.verifyScrollTo=function(a,b,c){"function"==typeof b&&2==arguments.length&&(c=b,b=a);var d=$.extend({scrollTarget:a,offsetTop:50,duration:500,easing:"swing"},b);return this.each(function(){var a=$(this),b="number"==typeof d.scrollTarget?d.scrollTarget:$(d.scrollTarget),e="number"==typeof b?b:b.offset().top+a.scrollTop()-parseInt(d.offsetTop,10);a.animate({scrollTop:e},parseInt(d.duration,10),d.easing,function(){"function"==typeof c&&c.call(this)})})},$.fn.equals=function(a){if($(this).length!==a.length)return!1;for(var b=0,c=$(this).length;c>b;++b)if($(this)[b]!==a[b])return!1;return!0};var h=null;!function(){var a=!1,b=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;h=function(){},h.extend=function(c){function d(){!a&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;a=!0;var f=new this;a=!1;for(var g in c)f[g]="function"==typeof c[g]&&"function"==typeof e[g]&&b.test(c[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);return this._super=c,d}}(g,c[g]):c[g];return d.prototype=f,d.prototype.constructor=d,d.extend=arguments.callee,d}}();var i=h.extend({init:function(a,b){b?this.name=b:this.name="Set_"+g(),this.array=[],this.addAll(a)},indexOf:function(a){for(var b=0,c=this.array.length;c>b;++b)if($.isFunction(a)?a(this.get(b)):this.equals(this.get(b),a))return b;return-1},find:function(a){return this.get(this.indexOf(a))||null},get:function(a){return this.array[a]},has:function(a){return!!this.find(a)},add:function(a){return this.has(a)?!1:(this.array.push(a),!0)},addAll:function(a){if(!a)return 0;$.isArray(a)||(a=[a]);for(var b=0,c=0,d=a.length;d>c;++c)this.add(a[c])&&b++;return b},remove:function(a){for(var b=[],c=0,d=this.array.length;d>c;++c)this.equals(this.get(c),a)||b.push(this.get(c));return this.array=b,a},removeAll:function(){this.array=[]},equals:function(a,b){return a&&b&&a.equals!==c&&b.equals!==c?a.equals(b):a===b},each:function(a){for(var b=0,c=this.array.length;c>b;++b)if(a(this.get(b))===!1)return},map:function(a){return $.map(this.array,a)},filter:function(a){return $.grep(this.array,a)},size:function(){return this.array.length},getArray:function(){return this.array}}),j=i.extend({init:function(a,b,c){this.type=a,this._super(b,c)},add:function(a){a instanceof this.type?this._super(a):this.log("add failed - invalid type")}}),k={create:function(a){function b(){}return b.prototype=a,new b},bind:$.proxy,checkOptions:function(a){if(a)for(var b in a)q[b]===c&&o("Invalid option: '"+b+"'")},appendArg:function(a,b,c){c||(c=0);var d=[].slice.call(a,c);return d[c]=b+d[c],d},memoize:function(a){return function(){for(var b=Array.prototype.slice.call(arguments),c="",d=b.length,e=null;d--;)e=b[d],c+=e===Object(e)?JSON.stringify(e):e,a.memoize||(a.memoize={});return c in a.memoize?a.memoize[c]:a.memoize[c]=a.apply(this,b)}},dateToString:function(a){return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();
},parseDate:function(a){var b=a.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/);if(!b)return null;var d;if($.datepicker!==c)try{var e=$.datepicker.parseDate("dd/mm/yy",a);d=new Date(e)}catch(f){return null}else d=new Date(parseInt(b[3],10),parseInt(b[2],10)-1,parseInt(b[1],10));return d},isRTL:function(a){var c=$(b),d=$("body"),e=a&&a.hasClass("rtl")||a&&"rtl"===(a.attr("dir")||"").toLowerCase()||c.hasClass("rtl")||"rtl"===(c.attr("dir")||"").toLowerCase()||d.hasClass("rtl")||"rtl"===(d.attr("dir")||"").toLowerCase();return Boolean(e)}},l="0.0.1",m=$.consoleNoConflict({prefix:"verify.js: "}),n=m.log,o=m.warn,p=m.info,q={debug:!1,autoInit:!0,validateAttribute:"data-validate",validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,hideErrorOnChange:!1,skipHiddenFields:!0,skipDisabledFields:!0,errorClass:"inp-error",errorContainer:function(a){return a.parent().find(".err_container")},reskinContainer:function(a){return a},beforeSubmit:function(a,b){return b},track:$.noop,showPrompt:!0,prompt:function(a,b,c){"function"===$.type($.notify)&&(c||(c={color:"red"}),$.notify(a,b,c))}};e.prototype=q;var r=h.extend({name:"Class",toString:function(){return(this.type?this.type+": ":"")+(this.name?this.name+": ":"")},log:function(){q.debug&&n.apply(this,k.appendArg(arguments,this.toString()))},warn:function(){o.apply(this,k.appendArg(arguments,this.toString()))},info:function(){p.apply(this,k.appendArg(arguments,this.toString()))},bind:function(a){var b=this[a];b&&$.isFunction(b)&&(this[a]=k.bind(b,this))},bindAll:function(){for(var a in this)this.bind(a)},nextTick:function(b,c,d){var e=this;return a.setTimeout(function(){b.apply(e,c)},d||0)}}),s=r.extend({init:function(a,b){return this.name=a,$.isPlainObject(b)?(this.type=b.__ruleType,this.extendInterface(b.extend),this.userObj||(this.userObj={}),$.extend(this.userObj,b),this.buildFn(),void(this.ready=this.fn!==c)):this.warn("rule definition must be a function or an object")},extendInterface:function(a){if(a&&"string"==typeof a){for(var b,c=a;c;){if(c===this.name)return this.error("Rule already extends '%s'",c);b=t.getRawRule(c),c=b?b.extend:null}var d=t.getRule(a);if(!d)return this.warn("Rule missing '%s'",c);if(this.parent=d,!(d instanceof s))return this.error("Cannot extend: '"+otherName+"' invalid type");this.userObj=k.create(d.userObj),this.userObj.parent=d.userObj}},buildFn:function(){if($.isFunction(this.userObj.fn))this.fn=this.userObj.fn;else{if("regexp"!==$.type(this.userObj.regex))return this.error("Rule has no function");this.fn=function(a){return function(b){var c=new RegExp(a);return b.val().match(c)?!0:b.message||"Invalid Format"}}(this.userObj.regex)}},defaultInterface:{log:n,warn:o,ajax:function(a){d(a,this)}},defaultFieldInterface:{val:function(){return this.field.val.apply(this.field,arguments)}},defaultGroupInterface:{val:function(a,b){var d=this.field(a);return d?b===c?d.val():d.val(b):void 0},field:function(a){var b=$.grep(this._exec.members,function(b){return b.id===a}),c=b.length?b[0].element.domElem:null;return c||this.warn("Cannot find group element with id: '"+a+"'"),c},fields:function(){return $().add($.map(this._exec.members,function(a){return a.element.domElem}))}},buildInterface:function(a){var b=[];return b.push({}),b.push(this.userObj),b.push(this.defaultInterface),"field"===this.type&&(b.push(this.defaultFieldInterface),b.push({field:a.element.domElem})),"group"===this.type&&b.push(this.defaultGroupInterface),b.push({prompt:a.element.options.prompt,form:a.element.form.domElem,callback:a.callback,args:a.args,_exec:a}),$.extend.apply(this,b)}}),t=null;!function(){var a=function(a){for(var b,c,d=a.split(""),e=[],f=0,g=0,h=d.length;h>g;++g){if(b=d[g],"("===b&&f++,")"===b&&f--,f>1)return null;","===b&&1===f&&(d[g]=";")}return 0!==f?null:($.each(d.join("").split(","),function(b,d){return(c=d.match(/^(\w+)(\.(\w+))?(\#(\w+))?(\(([^;\)]+(\;[^;\)]+)*)\))?$/))?(d={},d.name=c[1],c[3]&&(d.scope=c[3]),c[5]&&(d.id=c[5]),d.args=c[7]?c[7].split(";"):[],void e.push(d)):o("Invalid validate attribute: "+a)}),e)},b=k.memoize(a),c={},d={},e=function(a,b){for(var d in b)c[d]&&o("validator '%s' already exists",d),$.isFunction(b[d])&&(b[d]={fn:b[d]}),b[d].__ruleType=a;$.extend(!0,c,b)},f=function(a){e("field",a)},g=function(a){e("group",a)},h=function(a){return c[a]},i=function(a){var b=d[a],e=c[a];return e?b||(b=d[a]=new s(a,e)):o("Missing rule: "+a),b},j=function(a){var c=a.form.options.validateAttribute,d=a.domElem.attr(c);return d?b(d):null},l=function(a){var b=!1,c=null,d=[];return"ValidationField"!==a.type?o("Cannot get rules from invalid type"):a.domElem?(c=this.parseAttribute(a),c&&c.length?($.each(c,function(a,c){/required/.test(c.name)&&(b=!0),c.rule=i(c.name),c.rule&&d.push(c)}),d.required=b,d):d):d};t={addFieldRules:f,addGroupRules:g,getRule:i,getRawRule:h,parseString:a,parseAttribute:j,parseElement:l}}();var u=null;!function(){var a=r.extend({type:"ValidationElement",init:function(a){if(!a||!a.length)throw"Missing Element";return this.domElem=a,this.bindAll(),this.name=this.domElem.attr("name")||this.domElem.attr("id")||g(),this.execution=null,a.data("verify")?!1:(a.data("verify",this),!0)},equals:function(b){var c,d;return this.domElem?(c=this.domElem,b.jquery?d=b:b instanceof a&&b.domElem&&(d=b.domElem),c&&d?c.equals(d):!1):!1}}),d=a.extend({type:"ValidationField",init:function(a,b){this._super(a),this.form=b,this.options=b.options,this.groups=b.groups,this.ruleNames=null,this.touched=!1},validate:function(a){a||(a=$.noop);var b=new w(this);b.execute().done(function(){a(!0)}).fail(function(){a(!1)})},update:function(){this.rules=t.parseElement(this);for(var a=0;a<this.rules.length;++a){var b=this.rules[a];if(b.rule&&"group"===b.rule.type){this.groups[b.name]||(this.groups[b.name]={});var c=b.scope||"default";this.groups[b.name][c]||(this.groups[b.name][c]=new j(d)),this.groups[b.name][c].add(this)}}},handleResult:function(a){var b=this.options,c=b.reskinContainer(this.domElem);if(!c||!c.length)return this.warn("No reskin element found. Check 'reskinContainer' option.");b.showPrompt&&b.prompt(c,a.response);var d=b.errorContainer(c);d&&d.length&&d.toggleClass(b.errorClass,!a.success),this.options.track("Validate",[this.form.name,this.name].join(" "),a.success?"Valid":a.response?'"'+a.response+'"':"Silent Fail")},scrollFocus:function(a){var b=$.noop;this.options.focusFirstField&&(b=function(){a.focus()}),this.options.scroll?a.verifyScrollView(b):this.options.focusFirstField&&field.focus()}});u=a.extend({type:"ValidationForm",init:function(a,f){if(this._super(a),!a.is("form"))throw"Must be a form";this.options=new e(f),this.fields=new j(d),this.groups={},this.fieldByName={},this.invalidFields={},this.fieldHistory={},this.submitResult=c,this.submitPending=!1,this.cache={ruleNames:{},ajax:{loading:{},loaded:{}}},$(b).ready(this.domReady)},extendOptions:function(a){$.extend(!0,this.options,a)},domReady:function(){this.bindEvents(),this.updateFields(),this.log("bound to "+this.fields.size()+" elems")},bindEvents:function(){this.domElem.on("keyup.jqv","input",this.onKeyup).on("blur.jqv","input[type=text]:not(.hasDatepicker),input:not([type].hasDatepicker)",this.onValidate).on("change.jqv","input[type=text].hasDatepicker,select,[type=checkbox],[type=radio]",this.onValidate).on("submit.jqv",this.onSubmit).trigger("initialised.jqv")},unbindEvents:function(){this.domElem.off(".jqv")},updateFields:function(){var a="["+this.options.validateAttribute+"]";this.domElem.find(a).each(this.updateField)},updateField:function(a,b){a.jquery!==c&&(b=a),b.jquery===c&&(b=$(b));var e,f,g="input:not([type=hidden]),select,textarea";return b.is(g)?(f=b,e=this.fields.find(f),e||(e=new d(f,this),this.fields.add(e)),e.update(),e):this.warn("Validators will not work on container elements ("+b.prop("tagName")+"). Please use INPUT, SELECT or TEXTAREA.")},onSubmit:function(a){var b=!1;return this.submitPending&&this.warn("pending..."),this.submitPending||this.submitResult!==c?this.submitResult!==c&&(b=this.options.beforeSubmit.call(this.domElem,a,this.submitResult)):(this.submitPending=!0,this.validate(this.doSubmit)),b||a.preventDefault(),b},doSubmit:function(a){this.log("doSubmit",a),this.submitPending=!1,this.submitResult=a,this.domElem.submit(),this.submitResult=c},onKeyup:function(a){this.options.hideErrorOnChange&&this.options.prompt($(a.currentTarget),null)},onValidate:function(a){var b=$(a.currentTarget),c=b.data("verify")||this.updateField(b);c.log("validate"),c.validate($.noop)},validate:function(a){a||(a=$.noop),this.updateFields();var b=new v(this);b.execute().done(function(){a(!0)}).fail(function(){a(!1)})}})}();var v=null,w=null;!function(){var a={NOT_STARTED:0,RUNNING:1,COMPLETE:2},b=r.extend({type:"Execution",init:function(b,c){this.element=b,b&&(this.prevExec=b.execution,b.execution=this,this.options=this.element.options,this.domElem=b.domElem),this.parent=c,this.name="#"+g(),this.status=a.NOT_STARTED,this.bindAll(),this.d=this.restrictDeferred(),this.d.done(this.executePassed),this.d.fail(this.executeFailed)},isPending:function(){return this.prevExec&&this.prevExec.status!==a.COMPLETE},toString:function(){return this._super()+"["+this.element.name+(this.rule?":"+this.rule.name:"")+"] "},serialize:function(a){var b=this.mapExecutables(a);if(!$.isArray(b)||0===b.length)return this.resolve();var c=b[0](),d=1,e=b.length;if(this.log("SERIALIZE",e),!c||!c.pipe)throw"Invalid Deferred Object";for(;e>d;d++)c=c.pipe(b[d]);return c.done(this.resolve).fail(this.reject),this.d.promise()},parallelize:function(a){function b(a){f++,f===h&&e.resolve(a)}function c(a){i||(i=!0,e.reject(a))}var d=this.mapExecutables(a),e=this,f=0,g=0,h=d.length,i=!1;if(this.log("PARALLELIZE",h),!$.isArray(d)||0===h)return this.resolve();for(;h>g;++g){var j=d[g]();if(!j||!j.done||!j.fail)throw"Invalid Deferred Object";j.done(b).fail(c)}return this.d.promise()},mapExecutables:function(a){return $.map(a,function(a){if($.isFunction(a))return a;if($.isFunction(a.execute))return a.execute;throw"Invalid executable"})},linkPass:function(a){a.d.done(this.resolve)},linkFail:function(a){a.d.fail(this.reject)},link:function(a){this.linkPass(a),this.linkFail(a)},execute:function(){for(var b=this.parent,c=[];b;)c.unshift(b.name),b=b.parent;var d="("+c.join(" < ")+")";return this.log(this.parent?d:"","executing..."),this.status=a.RUNNING,this.domElem&&this.domElem.triggerHandler("validating"),!0},executePassed:function(a){this.success=!0,this.response=this.filterResponse(a),this.executed()},executeFailed:function(a){this.success=!1,this.response=this.filterResponse(a),this.executed()},executed:function(){this.status=a.COMPLETE,this.log((this.success?"Passed":"Failed")+": "+this.response),this.domElem&&this.domElem.triggerHandler("validated",this.success)},resolve:function(a){return this.resolveOrReject(!0,a)},reject:function(a){return this.resolveOrReject(!1,a)},resolveOrReject:function(a,b){var c=a?"__resolve":"__reject";if(!this.d||!this.d[c])throw"Invalid Deferred Object";return this.nextTick(this.d[c],[b],0),this.d.promise()},filterResponse:function(a){return"string"==typeof a?a:null},restrictDeferred:function(a){return a||(a=$.Deferred()),a.__reject=a.reject,a.__resolve=a.resolve,a.reject=a.resolve=function(){console.error("Use execution.resolve|reject()")},a}});v=b.extend({type:"FormExecution",init:function(a){this._super(a),this.ajaxs=[],this.children=this.element.fields.map($.proxy(function(a){return new w(a,this)},this))},execute:function(){return this._super(),this.isPending()?(this.warn("pending... (waiting for %s)",this.prevExec.name),this.reject()):(this.log("exec fields #"+this.children.length),this.parallelize(this.children))}}),w=b.extend({type:"FieldExecution",init:function(a,b){this._super(a,b),b instanceof v&&(this.formExecution=b),a.touched=!0,this.children=[]},execute:function(){if(this._super(),this.isPending())return this.warn("pending... (waiting for %s)",this.prevExec.name),this.reject();var a=t.parseElement(this.element);return this.skip=this.skipValidations(a),this.skip?this.resolve():(this.children=$.map(a,$.proxy(function(a){return"group"===a.rule.type?new e(a,this):new d(a,this)},this)),this.serialize(this.children))},skipValidations:function(a){return 0===a.length?(this.log("skip (no validators)"),!0):a.required||$.trim(this.domElem.val())?this.options.skipHiddenFields&&this.options.reskinContainer(this.domElem).is(":hidden")?(this.log("skip (hidden)"),!0):this.options.skipDisabledFields&&this.domElem.is("[disabled]")?(this.log("skip (disabled)"),!0):!1:(this.warn("skip (not required)"),!0)},executed:function(){this._super();var a,b=this,c=this.children;for(a=0;a<c.length;++a)if(c[a].success===!1){b=c[a];break}this.element.handleResult(b)}});var d=b.extend({type:"RuleExecution",init:function(a,b){this._super(null,b),this.rule=a.rule,this.args=a.args,this.element=this.parent.element,this.options=this.element.options,this.rObj={}},callback:function(a){clearTimeout(this.t),this.callbackCount++,this.log(this.rule.name+" (cb:"+this.callbackCount+"): "+a),this.callbackCount>1||(a===c&&this.warn("Undefined result"),a===!0?this.resolve(a):this.reject(a))},timeout:function(){this.warn("timeout!"),this.callback("Timeout")},execute:function(){if(this._super(),this.callbackCount=0,!this.element||!this.rule.ready)return this.warn(this.element?"not  ready.":"invalid parent."),this.resolve();this.t=setTimeout(this.timeout,1e4),this.r=this.rule.buildInterface(this);var a;try{a=this.rule.fn(this.r)}catch(b){a=!0,console.error("Error caught in validation rule: '"+this.rule.name+"', skipping.\nERROR: "+b.toString()+"\nSTACK:"+b.stack)}return a!==c&&this.nextTick(this.callback,[a]),this.d.promise()}}),e=d.extend({type:"GroupRuleExecution",init:function(a,b){if(this._super(a,b),this.groupName=a.name,this.id=a.id,this.scope=a.scope||"default",this.group=this.element.groups[this.groupName][this.scope],!this.group)throw"Missing Group Set";1===this.group.size()&&this.warn("Group only has 1 field. Consider a field rule.")},execute:function(){var b,c,d,e=this.group.exec,f=this.parent,g=f&&f.parent,h=!g,i=g instanceof v,j=!1;if(e&&e.status!==a.COMPLETE){for(this.members=e.members,b=0;b<this.members.length;++b)this.element===this.members[b].element&&(j=!0);if(j)return this.log("ALREADY A MEMBER OF %s",e.name),void this.reject();this.log("SLAVE TO %s",e.name),this.members.push(this),this.link(e),this.parent&&e.linkFail(this.parent)}else this.log("MASTER"),this.members=[this],this.executeGroup=this._super,e=this.group.exec=this,i&&e.linkFail(g);if(h)for(b=0;b<this.group.size();++b)if(c=this.group.get(b),this.element!==c){if(this.log("CHECK:",c.name),!c.touched)return this.log("FIELD NOT READY: ",c.name),this.reject();d=c.execution,d&&d.status!==a.COMPLETE&&d.reject(),this.log("STARTING ",c.name),d=new w(c,this),d.execute()}var k=this.group.size(),l=e.members.length;return k===l&&e.status===a.NOT_STARTED?(e.log("RUN"),e.executeGroup()):this.log("WAIT ("+l+"/"+k+")"),this.d.promise()},filterResponse:function(a){if(!a||!this.members.length)return this._super(a);var b=$.isPlainObject(a),c="string"==typeof a;return c&&this===this.group.exec?a:b&&a[this.id]?a[this.id]:null}})}(),$.fn.validate=function(a){var b=$(this).data("verify");b?b.validate(a):o("element does not have verifyjs attached")},$.fn.validate.version=l,$.fn.verify=function(a){return this.each(function(){var b=$.verify.forms.find($(this));return a===!1||"destroy"===a?void(b&&(b.unbindEvents(),$.verify.forms.remove(b))):(k.checkOptions(a),void(b?(b.extendOptions(a),b.updateFields()):(b=new u($(this),a),$.verify.forms.add(b))))})},$.verify=function(a){k.checkOptions(a),$.extend(q,a)},$.extend($.verify,{version:l,updateRules:t.updateRules,addRules:t.addFieldRules,addFieldRules:t.addFieldRules,addGroupRules:t.addGroupRules,log:p,warn:o,defaults:q,globals:q,utils:k,forms:new j(u,[],"FormSet"),_hidden:{ruleManager:t}}),$(function(){q.autoInit&&$("form").filter(function(){return $(this).find("["+q.validateAttribute+"]").length>0}).verify()}),n("Auto attach validate plugin added."),$(b).ready(function(b){return b.verify===c?void a.alert("Please include verify.js before each rule file"):(b.verify.addFieldRules({currency:{regex:/^\-?\$?\d{1,2}(,?\d{3})*(\.\d+)?$/,message:"Invalid monetary value"},email:function(a){var c=a.val();return c.match(/^(([^<>()\[\]\\.,;:\s@\"]+(\.[^<>()\[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?!0:(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"uk"==app.router.locale?"Email введено не вірно":"Email введен не правильно")},url:{regex:/^https?:\/\/[\-A-Za-z0-9+&@#\/%?=~_|!:,.;]*[\-A-Za-z0-9+&@#\/%=~_|]/,message:"Invalid URL"},alphanumeric:{regex:/^[0-9A-Za-z]+$/,message:"Use digits and letters only"},street_number:{regex:/^\d+[A-Za-z]?(-\d+)?[A-Za-z]?$/,message:"Street Number only"},number:{regex:/^\d+$/,message:"Use digits only"},numberSpace:{regex:/^[\d\ ]+$/,message:"Use digits and spaces only"},postcode:{regex:/^\d{4}$/,message:"Invalid postcode"},date:{fn:function(a){return b.verify.utils.parseDate(a.val())?!0:a.message},message:"Invalid date"},required:{fn:function(a){return a.requiredField(a,a.field)},requiredField:function(a,c){var d=c.val();switch(c.prop("type")){case"radio":case"checkbox":var e=c.attr("name"),f=c.data("fieldGroup");if(f||(f=a.form.find("input[name='"+e+"']"),c.data("fieldGroup",f)),f.is(":checked"))break;return 1===f.size()?(console.log("r.messages.single"),console.log(a.messages.single),a.messages.single):a.messages.multiple;default:if(!b.trim(d))return console.log("r.messages.all"),console.log(a.messages.all),console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),a.messages.all}return!0},messages:{all:"uk"==app.router.locale?"Це поле обов’язкове":"Поле является обязательным для заполнения",multiple:"uk"==app.router.locale?"Це поле обов’язкове":"Поле является обязательным для заполнения",single:"uk"==app.router.locale?"Це поле обов’язкове":"Поле является обязательным для заполнения"}},regex:{fn:function(a){var b;try{var c=a.args[0];b=new RegExp(c)}catch(d){return a.warn("Invalid regex: "+c),!0}return a.val().match(b)?!0:a.args[1]||a.message},message:"Invalid format"},pattern:{extend:"regex"},asyncTest:function(a){a.prompt(a.field,"Please wait..."),setTimeout(function(){a.callback()},2e3)},name:function(a){var c=a.val();return c.match(/^\+?[а-яА-ЯiI]+$/)?c.replace(/\s/g,"").length<2?(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"uk"==app.router.locale?"Мінімальна кількість букв повинна бути не менше 2":"Минимальное количеств букв должно быть не меньше 2"):c.replace(/\s/g,"").length>30?(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"uk"==app.router.locale?"Максимальна кількість букв не може перевищувати 30":"Максимальное количество букв не может превышать 30"):!0:(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"uk"==app.router.locale?"Введіть текст кирилицею":"Введите текст кириллическими буквами")},surname:function(a){var c=a.val();return c.match(/^\+?[а-яА-ЯiI]+$/)?c.replace(/\s/g,"").length<2?(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"uk"==app.router.locale?"Мінімальна кількість букв повинна бути не менше 2":"Минимальное количеств букв должно быть не меньше 2"):c.replace(/\s/g,"").length>30?(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"uk"==app.router.locale?"Максимальна кількість букв не може перевищувати 30":"Максимальное количество букв не может превышать 30"):!0:(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"uk"==app.router.locale?"Введіть текст кирилицею":"Введите текст кириллическими буквами")},patronymic:function(a){var c=a.val();return c.match(/^\+?[а-яА-ЯiI]+$/)?c.replace(/\s/g,"").length<2?(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"uk"==app.router.locale?"Мінімальна кількість букв повинна бути не менше 2":"Минимальное количеств букв должно быть не меньше 2"):c.replace(/\s/g,"").length>30?(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"uk"==app.router.locale?"Максимальна кількість букв не може перевищувати 30":"Максимальное количество букв не может превышать 30"):!0:(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"uk"==app.router.locale?"Введіть текст кирилицею":"Введите текст кириллическими буквами")},description_of_the_problem:function(a){var c=a.val();return c.match(/^\+?[а-яА-ЯiI]+$/)?c.replace(/\s/g,"").length<2?(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"uk"==app.router.locale?"Мінімальна кількість букв повинна бути не менше 2":"Минимальное количеств букв должно быть не меньше 2"):c.replace(/\s/g,"").length>30?(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"uk"==app.router.locale?"Максимальна кількість букв не може перевищувати 30":"Максимальное количество букв не может превышать 30"):!0:(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"uk"==app.router.locale?"Введіть текст кирилицею":"Введите текст кириллическими буквами")},phone:function(a){a.val(a.val().replace(/\D/g,""));var b=a.val();return b.match(/^\+?[\d\s]+$/)?b.match(/^\+/)?!0:b.match(/^0/)?b.match(/^(039|050|063|066|067|068|091|092|093|094|095|096|097|098|099)/)?10!==b.replace(/\s/g,"").length?"uk"==app.router.locale?"Повинно бути 10 цифр":"Должно быть 10 цифр":!0:"uk"==app.router.locale?"Такого мобільного оператора на територіх України не існує":"Такого мобильного оператора на территории Украины не существует":"uk"==app.router.locale?"Номер повинен починатися з 0":"Номер должен начинаться с 0":"uk"==app.router.locale?"Дозволяються тільки цифри та пробіл":"Только цифры или пробел"},phone_part:function(a){a.val(a.val().replace(/\D/g,""));var c=a.val();return c.match(/^\+?[\d\s]+$/)?c.match(/^\+/)?!0:c.match(/^0/)?5!==c.replace(/\s/g,"").length?(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"Must be 5 digits long"):!0:(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"Number must start with 0"):(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"Use digits and spaces only")},phonecode:function(a){a.val(a.val().replace(/\D/g,""));var c=a.val();return c.match(/^\+?[\d\s]+$/)?c.match(/^\+/)?!0:!0:(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"Use digits and spaces only")},vin:function(a){a.val(a.val().toUpperCase());var c=a.val();return c.match(/^UU/)||c.match(/^VF1/)||c.match(/^X7L/)?17!==c.length?(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"uk"==app.router.locale?"Повинно бути 17 цифр":"Должно быть 17 цифр"):!c.match(/O/)||c.match(/Q/)||c.match(/I/)?!0:(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"uk"==app.router.locale?'В полі VIN недопускаються символи "O", "I", "Q"':'В поле VIN недопукаются символы "O", "I", "Q'):(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"uk"==app.router.locale?'VIN повинен починатись з символів "UU", "VF1" або "X7L"':'VIN должен начинаться с символов "UU", "VF1" или "X7L"')},size:function(a){var b=a.val(),d=a.args[0],e=a.args[1];if(d!==c&&e===c){var f=parseInt(d,10);if(a.val().length!==f)return"Must be "+f+" characters"}else if(d!==c&&e!==c){var g=parseInt(d,10);if(e=parseInt(e,10),b.length<g||e<b.length)return"Must be between "+g+" and "+e+" characters"}else a.warn("size validator parameter error on field: "+a.field.attr("name"));return!0},min:function(a){var b=a.val(),c=parseInt(a.args[0],10);return b.length<c?"Must be at least "+c+" characters":!0},max:function(a){var b=a.val(),c=parseInt(a.args[0],10);return b.length>c?"Must be at most "+c+" characters":!0},decimal:function(a){var b=a.val(),c=a.args[0]?parseInt(a.args[0],10):2;if(!b.match(/^\d+(,\d{3})*(\.\d+)?$/))return"Invalid decimal value";var d=parseFloat(b.replace(/[^\d\.]/g,"")),e=Math.pow(10,c);return d=Math.round(d*e)/e,a.field.val(d),!0},minVal:function(a){var b=parseFloat(a.val().replace(/[^\d\.]/g,"")),c=a.args[1]||"",d=parseFloat(a.args[0]);return d>b?"Must be greater than "+d+c:!0},maxVal:function(a){var b=parseFloat(a.val().replace(/[^\d\.]/g,"")),c=a.args[1]||"",d=parseFloat(a.args[0]);return b>d?"Must be less than "+d+c:!0},rangeVal:function(a){var b=parseFloat(a.val().replace(/[^\d\.]/g,"")),c=a.args[2]||"",d=a.args[3]||"",e=parseFloat(a.args[0]),f=parseFloat(a.args[1]);return b>f||e>b?"Must be between "+c+e+d+"\nand "+c+f+d:!0},agreement:function(a){return a.field.is(":checked")?!0:(console.log("fails2"),b(".submit-form-button").attr("disabled","disabled"),b(".submit-form-button").addClass("btn-disabled"),"uk"==app.router.locale?"Це поле обов’язкове":"Поле является обязательным")},minAge:function(a){var c=parseInt(a.args[0],10);if(!c||isNaN(c))return console.log("WARNING: Invalid Age Param: "+c),!0;var d=(new Date,new Date);d.setFullYear(d.getFullYear()-c);var e=b.verify.utils.parseDate(a.val());return"Invalid Date"===e?"Invalid Date":e>d?"You must be at least "+c:!0}}),void b.verify.addGroupRules({dateRange:function(a){var c=a.field("start"),d=a.field("end");if(0===c.length||0===d.length)return a.warn("Missing dateRange fields, skipping..."),!0;var e=b.verify.utils.parseDate(c.val());if(!e)return"Invalid Start Date";var f=b.verify.utils.parseDate(d.val());return f?e>=f?"Start Date must come before End Date":!0:"Invalid End Date"},requiredAll:{extend:"required",fn:function(a){var c,d=(a.fields().length,[]),e=[];return a.fields().each(function(f,g){c=a.requiredField(a,g),console.log(c),c===!0?(console.log("passes"),b(".submit-form-button").removeAttr("disabled"),b(".submit-form-button").removeClass("btn-disabled"),d.push(g)):e.push({field:g,message:c})}),d.length>0&&e.length>0?(b.each(e,function(b,c){a.prompt(c.field,c.message)}),!1):!0}}}))})}(window,document),app.view.wfn.characteristics=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;a.t=app.view.getTranslationsFromData(a),c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/objects/characteristics.html";app.view.beforeWidget(e),a()},app.view.wfn.engine=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/objects/engine.html",e=app.view.getCurrentWidget();app.view.beforeWidget(e),a()},app.view.wfn["feat-box"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/objects/feat-box.html",e=app.view.getCurrentWidget();app.view.beforeWidget(e),a()},app.view.wfn.files=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;a.header_1="Все, что вы хотите знать о Renault SANDERO",c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/objects/files.html",e=app.view.getCurrentWidget();app.view.beforeWidget(e),a()},app.view.wfn.iframes=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/objects/iframes.html",e=app.view.getCurrentWidget();app.view.beforeWidget(e),a()},app.view.wfn["promo-slider"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/objects/promo-slider.html";a()},app.view.wfn["vehicle-promotions"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;a.viewAllUrl=app.view.helper.preffix+"/models",c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/objects/vehicle-promotions.html";a()},app.view.wfn.credit=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/tables/credit.html";a()},app.view.wfn["dealer-quest-box"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;$.each(a.items,function(b,c){"@frontend"==c.host&&(a.items[b].viewUrl=app.view.helper.preffix+c.url)}),c(a)}function c(a){app.logger.func("loadTemplate(data)");
var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/tables/dealer-quest-box.html";a()},app.view.wfn["info-menu"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;$.each(a.items,function(b,c){"@frontend"==c.host&&(a.items[b].viewUrl=app.view.helper.preffix+c.url),"/"+app.router.controller+"/"+app.router.slug==c.url.trim()&&(a.items[b].itemLiClass="active",a.items[b].itemLiClassMobile="active")}),a.items=a.items.filter(function(a){return app.view.isDealerBlackListPage("/"+app.router.locale+a.url)?!1:!0}),c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/arrays/tables/info-menu.html";a()},app.view.wfn["book-a-test-drive-form"]=function(){function run(){app.logger.func("run"),loadData()}function loadData(){app.logger.func("loadData()");var a=widget;window.contact_info=a.contact_info,loadSalons(a),loadFormData(a)}function getDataPickerFromData(a){if($.isEmptyObject(a.datapicker))return{};var b={};return $.each(a.datapicker,function(a,c){c.key&&c.value&&(b[c.key]=c.value)}),b}function mapInitialize(a){var b=new google.maps.LatLng(49.3159955,32.0068446),c=6;a&&app.logger["var"](a),$.isEmptyObject(a)||$.isEmptyObject(a.center)||(b=new google.maps.LatLng(a.center.split(",")[0],a.center.split(",")[1])),!$.isEmptyObject(a)&&a.zoom&&(c=a.zoom);var d={scrollwheel:!1,center:b,zoom:c,mapTypeId:google.maps.MapTypeId.ROADMAP},e=new google.maps.Map(document.getElementById("mapresult"),d);markers=[];var f=document.getElementById("test-drive-form-map-input-search"),g=new google.maps.places.Autocomplete(f,{types:["(cities)"],componentRestrictions:{country:"ua"}});google.maps.event.addListener(g,"place_changed",function(){var a=g.getPlace();if(a.geometry){for(var b,c=0;b=markers[c];c++)b.setMap(null);if(!$.isEmptyObject(g.getPlace())&&!$.isEmptyObject(g.getPlace())&&!$.isEmptyObject(g.getPlace().name)){var d=g.getPlace().name;app.logger["var"](g.getPlace()),app.logger.text(d);var f="."+toCodeValue(d);app.logger.text(f),$.isEmptyObject(app.view.$grid)||app.view.$grid.isotope({filter:f}),app.view.mapFilterValue=f}markers=[];var h=new google.maps.LatLngBounds;h.extend(a.geometry.location),e.fitBounds(h),e.setZoom(11)}}),google.maps.event.addListener(e,"bounds_changed",function(){var a=e.getBounds();g.setBounds(a)}),app.view.allMarkers=[],$.each(app.view.dealers,function(b,c){if(!$.isEmptyObject(a)&&!$.isEmptyObject(a.filter)){if("salon"==a.filter&&$.isEmptyObject(c.salon_id))return;if("service"==a.filter&&$.isEmptyObject(c.service_id))return;if("pro"==a.filter&&$.isEmptyObject(c.dealers_pro))return}if(!c.service_id||c.salon_id){var d=new google.maps.LatLng(c.gps_x,c.gps_y),f=new google.maps.Marker({position:d,map:e,icon:"/img/ico-marker3.png",dealer:c,scale:4});app.view.allMarkers.push(f),google.maps.event.addListener(f,"click",function(){markerClick.call(this,f,app.view.allMarkers)})}})}function loadFormData(data){$.ajax({url:"http://dealers.renault.ua/ru/site/test_drive",success:function(html){var dealersScript=$(html).filter("#all").children().children().children().filter("div.inner-content").children().children()[4];eval($(dealersScript).html()),data.dealers=window.dealers,data.models=[],$(html).filter("#all").children().children().children().filter("div.inner-content").children().children().filter("div.form-item-renault").children().filter("form#form ").find("select.form.required.modelOfInterest.width462").children().each(function(a,b){data.models.push($.trim($(b).val()))});var item=null,items=[];$.each(data.models,function(a,b){item={title:b,img_src:""},$.each(data.items,function(a,c){b==c.title&&(item=c)}),items.push(item)}),data.items=items,loadTemplate(data)}})}function loadTemplate(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[template];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+template+"?v="+b,function(b){renderWidget(b(a))})}function renderWidget(a,b){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+widget.uniqueKey).append(a),app.view.afterWidget(widget),app.view.tmpMapData=b,loadGoogleMaps(),setTimeout(function(){$(".select-dealer-content").slideUp(),$(".form .select-dealer-content, .form .select-dealer-header").attr("data-state","closed"),setDefaultValues(),setPredefinedValues(b)},3e3)}function loadGoogleMaps(){1!=app.view.gMapsLoaded?(app.logger.func("loadGoogleMaps"),$.getScript("https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&language=uk&async=2&callback=GoogleMapsLoaded",function(){})):GoogleMapsLoaded()}function setDefaultValues(){var a=new Date,b=a.getDate()+1,c=a.getMonth()+1;10>c&&(c="0"+c);var d=a.getFullYear();window.testDriveData={selected_id:"","punkt[5]":"","field-firstname":"2","field-secondname":"3","field-lastname":"1","punkt[1]":"","punkt[2]":"","punkt[3]":"",massive:"Array","punkt[4]":"","field-email":"6","punkt[6]":"","field-phone":"7","punkt[7]":"","punkt[8]":b+"."+c+"."+d,"punkt[9]":"9:00-10:00","punkt[10]":"yes","punkt[11]":"true","submit-val":"1",RenaultDealerDomain:location.hostname}}function loadTranslation(a){switch(app.router.locale){case"uk":a.Select_this_dealer="Вибрати цього диллера",a.select_date_and_time="Оберіть дату та час",a.Select_date="оберіть дату",a.select_time="оберіть час",a.optional_confirmation="Ми зв'яжемось з Вами щоб підтвердити, що обрані Вами дата та час вільні",a.change_this_datetime="Обрати ці дату та час",a.accost="Звертання",a.Mr="Пан",a.Ms="Пані",a.name="Ім'я",a.surname="Прізвище",a.patronymic="По батькові",a.E_Mail="E-Mail",a.post_code="Індекс",a.settlement="Населений пункт",a.house_number="Номер будинку",a.VIN="VIN <span>(номер кузова, зазначений у свідоцтві<br> про реєстрацію транспортного засобу)</span>",a.phone="Мобільний телефон",a.region="Область",a.street="Вулиця",a.number_of_apartments="Номер квартири",a.The_state_reg_number="Державний реєстраційний номер",a.your_question="Ваше питання",a.Subscribe_to_news="Підписатися на новини Renault",a.consent="Даю свою згоду на обробку зазначених мною вище персональних даних";break;case"ru":a.Select_this_dealer="Выбрать этого диллера",a.select_date_and_time="Выберите дату и время",a.Select_date="выберите дату",a.select_time="выберите время",a.optional_confirmation="Мы свяжемся с Вами, чтобы подтвердить, что выбранные Вами дата и время свободны",a.change_this_datetime="Выбрать эти дату и время",a.accost="Обращение",a.Mr="Г-н",a.Ms="Г-жа",a.name="Имя",a.surname="Фамилия",a.patronymic="Отчество",a.E_Mail="E-Mail",a.post_code="Индекс",a.settlement="Неселённый пункт",a.house_number="Номер дома",a.VIN="VIN <span>( Номер кузова, указанный в свидедельстве<br> о регистрации транспортного средства)</span>",a.phone="Мобильный телефон",a.region="Область",a.street="Улица",a.number_of_apartments="Номер квартиры",a.The_state_reg_number="Государственный регистрационный номер",a.your_question="Ваш вопрос",a.Subscribe_to_news="Подписаться на новости RENAULT",a.consent="Даю своё согласие на обработку указанных мною выше личных данных"}}function loadSalons(a){var b={controller:"salon",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){app.view.dealers=b,loadServices(a)})}function loadServices(a){var b={controller:"service",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){$.each(app.view.dealers,function(a,c){$.each(b,function(d,e){e.gps_coords==c.gps_coords&&e.dealers_id==c.dealers_id&&($.extend(app.view.dealers[a],e),b[d]=!1)})}),$.each(b,function(a,b){$.isEmptyObject(b)||app.view.dealers.push(b)}),a.dealers=getPreparedDealers(app.view.dealers)})}function changeDealerInfo(a){var b=app.router.locale;"uk"==b&&(b="ua");var c='<h4>"'+a["dealers_name_"+b]+'"</h4><h5>'+window.contact_info+"</h5><p>"+a["city_name_"+b]+"<br>"+a["salon_adres_"+b]+"</p><h5>салон</h5><p>"+a.salon_phone+"</p>";$(".map-wrapper").addClass("mw-dealer-selected"),$(".mapitembox").html(c),window.testDriveData.selected_id=a.dealers_id,$("#test-drive-form-select-this-dealer-button").show(),$("#test-drive-form-select-this-dealer-button").click(function(){selectThisDealerButtonClick(a)})}function getPreparedDealers(a){var b=app.router.locale;return"uk"==b&&(b="ua"),$.each(a,function(c,d){a[c].title=d["dealers_name_"+b],a[c].town=d["city_name_"+b],$.isEmptyObject(d["service_adres_"+b])||(a[c].street=d["service_adres_"+b]),$.isEmptyObject(d["salon_adres_"+b])||(a[c].street=d["salon_adres_"+b]),a[c].gpsUrl="https://www.google.com.ua/maps/place/@"+d.gps_coords.replace(/\ /g,"")+",17z/data=!4m2!3m1!1s0x40d4cefec397bd8f:0xd344af779861fc77",a[c].dataFilter=toCodeValue(d.city_name_ru)+" "+toCodeValue(d.city_name_ua);var e=d.gps_coords.replace(/\ /g,"").split(",");a[c].gps_x=e[0],a[c].gps_y=e[1],$.isEmptyObject(d.salon_id)||(a[c].websiteUrl=d.salon_url,a[c].dataFilter=a[c].dataFilter+" data-filter-salon"),$.isEmptyObject(d.service_id)||(a[c].websiteUrl=d.service_url,a[c].dataFilter=a[c].dataFilter+" data-filter-service"),$.isEmptyObject(d.dealers_pro)||(a[c].dataFilter=a[c].dataFilter+" data-filter-pro"),c%3==0&&(a[c].firstInRow=!0),(c+1)%3==0&&(a[c].lastInRow=!0)}),a}function getDealer(a){}function setPredefinedValues(a){var b,c,d,e,f;b=$.urlParams("get","model"),c=$.urlParams("get","salon_id"),d=$.urlParams("get","service_id"),e=$.urlParams("get","city_id"),app.config.frontend_app_dealer_id&&(f=app.config.frontend_app_dealer_id),b&&$(".vehicle-categories").find(".vehicle-in-category-name-inner").each(function(a,c){b.toLowerCase()==$(this).html().toLowerCase()&&modelClick.call($(this).parent().parent())}),e&&$.each(app.view.allMarkers,function(b,c){return e==c.dealer.city_id?(app.logger.text("predefined city: "+c.dealer.city_name_ua),$("#test-drive-form-map-input-search").val(c.dealer.city_name_ua),a.center=c.dealer.gps_x+","+c.dealer.gps_y,a.zoom=11,void mapInitialize(a)):void 0}),c&&$.each(app.view.allMarkers,function(a,b){return c==b.dealer.salon_id?void markerClick.call(this,b,app.view.allMarkers):void 0}),d&&$.each(app.view.allMarkers,function(a,b){return d==b.dealer.service_id?void markerClick.call(this,b,app.view.allMarkers):void 0}),f&&f>0&&($("#test-drive-form-map-input-search").parent().hide(),$.each(app.view.allMarkers,function(a,b){f==b.dealer.dealers_id?markerClick.call(this,b,app.view.allMarkers):b.visible=!1}))}function markerClick(a,b){app.logger["var"](a.dealer),changeDealerInfo(a.dealer);for(var c=0;c<b.length;c++)b[c].setIcon("/img/ico-marker3.png");a.setIcon("/img/ico-marker2.png")}var widget=app.view.getCurrentWidget(),template="/templates/block/page/book-a-test-drive-form.html";run(),GoogleMapsLoaded=function(){app.view.gMapsLoaded=!0,mapInitialize(app.view.tmpMapData)}},app.view.wfn["corporate-sales"]=function(){function a(){app.logger.func("run"),console.log("test"),b()}function b(){app.logger.func("loadData()");var a=f;e(),c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[g];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+g+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+f.uniqueKey).append(a),app.view.afterWidget(f)}function e(){window.corporateSaleData={firstname:"",secondname:"",lastname:"",email:"",phone:"",message:""}}var f=app.view.getCurrentWidget(),g="/templates/block/page/corporate-sales.html";a()},app.view.wfn.service=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=o;app.view.contact_info=a.contact_info,n(a)}function c(a){var b=new google.maps.LatLng(49.3159955,32.0068446),c=6;a&&app.logger["var"](a),$.isEmptyObject(a)||$.isEmptyObject(a.center)||(b=new google.maps.LatLng(a.center.split(",")[0],a.center.split(",")[1])),!$.isEmptyObject(a)&&a.zoom&&(c=a.zoom);var d={scrollwheel:!1,center:b,zoom:c,mapTypeId:google.maps.MapTypeId.ROADMAP},e=new google.maps.Map(document.getElementById("mapresult"),d);markers=[];var f=document.getElementById("test-drive-form-map-input-search"),g=new google.maps.places.Autocomplete(f,{types:["(cities)"],componentRestrictions:{country:"ua"}});google.maps.event.addListener(g,"place_changed",function(){var a=g.getPlace();if(a.geometry){for(var b,c=0;b=markers[c];c++)b.setMap(null);if(!$.isEmptyObject(g.getPlace())&&!$.isEmptyObject(g.getPlace())&&!$.isEmptyObject(g.getPlace().name)){var d=g.getPlace().name;app.logger["var"](g.getPlace()),app.logger.text(d);var f="."+toCodeValue(d);app.logger.text(f),$.isEmptyObject(app.view.$grid)||app.view.$grid.isotope({filter:f}),app.view.mapFilterValue=f}markers=[];var h=new google.maps.LatLngBounds;h.extend(a.geometry.location),e.fitBounds(h),e.setZoom(11)}}),google.maps.event.addListener(e,"bounds_changed",function(){var a=e.getBounds();g.setBounds(a)}),app.view.allMarkers=[],$.each(app.view.dealers,function(b,c){if(!$.isEmptyObject(a)&&!$.isEmptyObject(a.filter)){if("salon"==a.filter&&$.isEmptyObject(c.salon_id))return;if("service"==a.filter&&$.isEmptyObject(c.service_id))return;if("pro"==a.filter&&$.isEmptyObject(c.dealers_pro))return}if(!c.salon_id||c.service_id){var d=new google.maps.LatLng(c.gps_x,c.gps_y),f=new google.maps.Marker({position:d,map:e,icon:"/img/ico-marker3.png",dealer:c,scale:4});app.view.allMarkers.push(f),google.maps.event.addListener(f,"click",function(){m.call(this,f,app.view.allMarkers)})}})}function d(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[p];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+p+"?v="+b,function(b){e(b(a),a)})}function e(a,b){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+o.uniqueKey).append(a),app.view.afterWidget(o),app.view.tmpMapData=b,f(),setTimeout(function(){g(),l(b)},3e3)}function f(){1!=app.view.gMapsLoaded?(app.logger.func("loadGoogleMaps"),$.getScript("https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&language=uk&async=2&callback=GoogleMapsLoaded",function(){})):GoogleMapsLoaded()}function g(){var a=new Date,b=a.getDate()+1,c=a.getMonth()+1;10>c&&(c="0"+c);var d=a.getFullYear();window.testDriveData={selected_id:"","punkt[5]":"","field-firstname":"2","field-secondname":"3","field-lastname":"1","punkt[1]":"","punkt[2]":"","punkt[3]":"",massive:"Array","field-email":"6","punkt[6]":"","field-phone":"7","punkt[7]":"","punkt[12]":b+"."+c+"."+d,"punkt[14]":"9:00-10:00","punkt[11]":"18:00-20:00","punkt[10]":"yes","punkt[18]":"true","punkt[19]":"1","punkt[20]":"1","punkt[17]":"true","submit-val":"1",RenaultDealerDomain:location.hostname}}function h(a){var b={controller:"salon",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){app.view.dealers=b,i(a)})}function i(a){var b={controller:"service",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){$.each(app.view.dealers,function(a,c){$.each(b,function(d,e){e.gps_coords==c.gps_coords&&e.dealers_id==c.dealers_id&&($.extend(app.view.dealers[a],e),b[d]=!1)})}),$.each(b,function(a,b){$.isEmptyObject(b)||app.view.dealers.push(b)}),a.dealers=k(app.view.dealers),d(a)})}function j(a){var b=app.router.locale;"uk"==b&&(b="ua");var c='<h4>"'+a["dealers_name_"+b]+'"</h4><h5>'+app.view.contact_info+"</h5><p>"+a["city_name_"+b]+"<br>"+a["service_adres_"+b]+"</p><h5>СТО</h5><p>"+a.service_phone+"</p>";$(".map-wrapper").addClass("mw-dealer-selected"),$(".mapitembox").html(c),window.testDriveData.selected_id=a.dealers_id,$("#service-form-select-this-dealer-button").show(),$("#service-form-select-this-dealer-button").click(function(){selectThisDealerButtonClick(a)})}function k(a){var b=app.router.locale;return"uk"==b&&(b="ua"),$.each(a,function(c,d){a[c].title=d["dealers_name_"+b],a[c].town=d["city_name_"+b],$.isEmptyObject(d["service_adres_"+b])||(a[c].street=d["service_adres_"+b]),$.isEmptyObject(d["salon_adres_"+b])||(a[c].street=d["salon_adres_"+b]),a[c].gpsUrl="https://www.google.com.ua/maps/place/@"+d.gps_coords.replace(/\ /g,"")+",17z/data=!4m2!3m1!1s0x40d4cefec397bd8f:0xd344af779861fc77",a[c].dataFilter=toCodeValue(d.city_name_ru)+" "+toCodeValue(d.city_name_ua);var e=d.gps_coords.replace(/\ /g,"").split(",");a[c].gps_x=e[0],a[c].gps_y=e[1],$.isEmptyObject(d.salon_id)||(a[c].websiteUrl=d.salon_url,a[c].dataFilter=a[c].dataFilter+" data-filter-salon"),$.isEmptyObject(d.service_id)||(a[c].websiteUrl=d.service_url,a[c].dataFilter=a[c].dataFilter+" data-filter-service"),$.isEmptyObject(d.dealers_pro)||(a[c].dataFilter=a[c].dataFilter+" data-filter-pro"),c%3==0&&(a[c].firstInRow=!0),(c+1)%3==0&&(a[c].lastInRow=!0)}),a}function l(a){var b,d,e,f,g;b=$.urlParams("get","model"),d=$.urlParams("get","salon_id"),e=$.urlParams("get","service_id"),f=$.urlParams("get","city_id"),app.config.frontend_app_dealer_id&&(g=app.config.frontend_app_dealer_id),b&&($('select[id="model"]').val(b),$('select[id="model"]').parent().find(".jq-selectbox__select-text").html(b)),f&&$.each(app.view.allMarkers,function(b,d){return f==d.dealer.city_id?(app.logger.text("predefined city: "+d.dealer.city_name_ua),$("#test-drive-form-map-input-search").val(d.dealer.city_name_ua),a.center=d.dealer.gps_x+","+d.dealer.gps_y,a.zoom=11,void c(a)):void 0}),d&&$.each(app.view.allMarkers,function(a,b){return d==b.dealer.salon_id?void m.call(this,b,app.view.allMarkers):void 0}),e&&$.each(app.view.allMarkers,function(a,b){return e==b.dealer.service_id?void m.call(this,b,app.view.allMarkers):void 0}),g&&g>0&&($("#test-drive-form-map-input-search").parent().hide(),$.each(app.view.allMarkers,function(a,b){g==b.dealer.dealers_id?m.call(this,b,app.view.allMarkers):b.visible=!1}))}function m(a,b){if(app.logger["var"](a.dealer),j(a.dealer),b)for(var c=0;c<b.length;c++)b[c].setIcon("/img/ico-marker3.png");a.setIcon("/img/ico-marker2.png")}function n(a){var b={controller:"car",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){app.view.models=b,a.models=[],$.each(b,function(b,c){a.models.push(c.car_name)}),h(a)})}var o=app.view.getCurrentWidget(),p="/templates/block/page/service.html";a(),GoogleMapsLoaded=function(){app.view.gMapsLoaded=!0,c(app.view.tmpMapData)}},app.view.wfn.subscribes=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;window.testDriveData={},c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/block/page/subscribes.html";a()},app.view.wfn.contact=function(){function run(){app.logger.func("run"),loadData()}function loadData(){app.logger.func("loadData()");var a=widget;window.contact_info=a.contact_info,$.verify.addFieldRules({nameR1:{expected:"42",message:"uk"==app.router.locale?"Wasn't 42uk":"Wasn't 42ru",fn:function(a){return a.val()===a.expected?!0:a.message}}}),loadSalons(a)}function mapInitialize(a){var b=new google.maps.LatLng(49.3159955,32.0068446),c=6;a&&app.logger["var"](a),$.isEmptyObject(a)||$.isEmptyObject(a.center)||(b=new google.maps.LatLng(a.center.split(",")[0],a.center.split(",")[1])),!$.isEmptyObject(a)&&a.zoom&&(c=a.zoom);var d={scrollwheel:!1,center:b,zoom:c,mapTypeId:google.maps.MapTypeId.ROADMAP},e=new google.maps.Map(document.getElementById("mapresult"),d);markers=[];var f=document.getElementById("test-drive-form-map-input-search"),g=new google.maps.places.Autocomplete(f,{types:["(cities)"],componentRestrictions:{country:"ua"}});google.maps.event.addListener(g,"place_changed",function(){var a=g.getPlace();if(a.geometry){for(var b,c=0;b=markers[c];c++)b.setMap(null);if(!$.isEmptyObject(g.getPlace())&&!$.isEmptyObject(g.getPlace)&&!$.isEmptyObject(g.getPlace.name)){var d=g.getPlace.name;app.logger["var"](g.getPlace),app.logger.text(d);var f="."+toCodeValue(d);app.logger.text(f),$.isEmptyObject(app.view.$grid)||app.view.$grid.isotope({filter:f}),app.view.mapFilterValue=f}markers=[];var h=new google.maps.LatLngBounds;h.extend(a.geometry.location),e.fitBounds(h),e.setZoom(11)}}),google.maps.event.addListener(e,"bounds_changed",function(){var a=e.getBounds();g.setBounds(a)}),app.view.allMarkers=[],$.each(app.view.dealers,function(b,c){if(!$.isEmptyObject(a)&&!$.isEmptyObject(a.filter)){if("salon"==a.filter&&$.isEmptyObject(c.salon_id))return;if("service"==a.filter&&$.isEmptyObject(c.service_id))return;if("pro"==a.filter&&$.isEmptyObject(c.dealers_pro))return}var d=new google.maps.LatLng(c.gps_x,c.gps_y),f=new google.maps.Marker({position:d,map:e,icon:"/img/ico-marker3.png",dealer:c,scale:4});app.view.allMarkers.push(f),google.maps.event.addListener(f,"click",function(){markerClick.call(this,f,app.view.allMarkers)})})}function loadFormData(data){$.ajax({url:"http://dealers.renault.ua/ru/site/test_drive",success:function(html){var dealersScript=$(html).filter("#all").children().children().children().filter("div.inner-content").children().children()[4];eval($(dealersScript).html()),data.dealers=window.dealers,data.models=[],$(html).filter("#all").children().children().children().filter("div.inner-content").children().children().filter("div.form-item-renault").children().filter("form#form ").find("select.form.required.modelOfInterest.width462").children().each(function(a,b){data.models.push($.trim($(b).val()))});var item=null,items=[];$.each(data.models,function(a,b){item={title:b,img_src:""},$.each(data.items,function(a,c){b==c.title&&(item=c)}),items.push(item)}),data.items=items,loadTemplate(data)}})}function loadTemplate(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[template];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+template+"?v="+b,function(b){renderWidget(b(a))})}function renderWidget(a,b){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+widget.uniqueKey).append(a),app.view.afterWidget(widget),app.view.tmpMapData=b,loadGoogleMaps(),setTimeout(function(){$(".select-dealer-content").slideUp(),$(".form .select-dealer-content, .form .select-dealer-header").attr("data-state","closed"),setDefaultValues(),setPredefinedValues(b)},3e3)}function loadGoogleMaps(){1!=app.view.gMapsLoaded?(app.logger.func("loadGoogleMaps"),$.getScript("https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&language=uk&async=2&callback=GoogleMapsLoaded",function(){})):GoogleMapsLoaded()}function setDefaultValues(){window.testDriveData={selected_id:"","field-firstname":"2","field-secondname":"3","field-lastname":"1","punkt[1]":"","punkt[2]":"","punkt[3]":"","field-email":"6","punkt[6]":"","field-phone":"7","punkt[7]":"","punkt[8]":"","punkt[10]":"yes","punkt[11]":"true","punkt[12]":"1","punkt[13]":"1","submit-val":"1",RenaultDealerDomain:location.hostname}}function loadTranslation(a){switch(app.router.locale){case"uk":a.Select_this_dealer="Вибрати цього диллера",a.select_date_and_time="Оберіть дату та час",a.Select_date="оберіть дату",a.select_time="оберіть час",a.optional_confirmation="Ми зв'яжемось з Вами щоб підтвердити, що обрані Вами дата та час вільні",a.change_this_datetime="Обрати ці дату та час",a.accost="Звертання",a.Mr="Пан",a.Ms="Пані",a.name="Ім'я",a.surname="Прізвище",a.patronymic="По батькові",a.E_Mail="E-Mail",a.post_code="Індекс",a.settlement="Населений пункт",a.house_number="Номер будинку",a.VIN="VIN <span>(номер кузова, зазначений у свідоцтві<br> про реєстрацію транспортного засобу)</span>",a.phone="Мобільний телефон",a.region="Область",a.street="Вулиця",a.number_of_apartments="Номер квартири",a.The_state_reg_number="Державний реєстраційний номер",a.your_question="Ваше питання",a.Subscribe_to_news="Підписатися на новини Renault",a.consent="Даю свою згоду на обробку зазначених мною вище персональних даних";break;case"ru":a.Select_this_dealer="Выбрать этого диллера",a.select_date_and_time="Выберите дату и время",a.Select_date="выберите дату",a.select_time="выберите время",a.optional_confirmation="Мы свяжемся с Вами, чтобы подтвердить, что выбранные Вами дата и время свободны",a.change_this_datetime="Выбрать эти дату и время",a.accost="Обращение",a.Mr="Г-н",a.Ms="Г-жа",a.name="Имя",a.surname="Фамилия",a.patronymic="Отчество",a.E_Mail="E-Mail",a.post_code="Индекс",a.settlement="Неселённый пункт",a.house_number="Номер дома",a.VIN="VIN <span>( Номер кузова, указанный в свидедельстве<br> о регистрации транспортного средства)</span>",a.phone="Мобильный телефон",a.region="Область",a.street="Улица",a.number_of_apartments="Номер квартиры",a.The_state_reg_number="Государственный регистрационный номер",a.your_question="Ваш вопрос",a.Subscribe_to_news="Подписаться на новости RENAULT",a.consent="Даю своё согласие на обработку указанных мною выше личных данных"}}function loadSalons(a){var b={controller:"salon",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){app.view.dealers=b,loadServices(a)})}function loadServices(a){var b={controller:"service",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){$.each(app.view.dealers,function(a,c){$.each(b,function(d,e){e.gps_coords==c.gps_coords&&e.dealers_id==c.dealers_id&&($.extend(app.view.dealers[a],e),b[d]=!1)})}),$.each(b,function(a,b){$.isEmptyObject(b)||app.view.dealers.push(b)}),a.dealers=getPreparedDealers(app.view.dealers),loadTemplate(a)})}function changeDealerInfo(a){var b=app.router.locale;"uk"==b&&(b="ua");var c='<h4>"'+a["dealers_name_"+b]+'"</h4><h5>'+window.contact_info+"</h5><p>"+a["city_name_"+b]+"<br>"+a["salon_adres_"+b]+"</p><h5>салон</h5><p>"+a.salon_phone+"</p>";$(".map-wrapper").addClass("mw-dealer-selected"),$(".mapitembox").html(c),window.testDriveData.selected_id=a.dealers_id,$("#test-drive-form-select-this-dealer-button").show(),$("#test-drive-form-select-this-dealer-button").click(function(){selectThisDealerButtonClick(a)})}function getPreparedDealers(a){var b=app.router.locale;return"uk"==b&&(b="ua"),$.each(a,function(c,d){a[c].title=d["dealers_name_"+b],a[c].town=d["city_name_"+b],$.isEmptyObject(d["service_adres_"+b])||(a[c].street=d["service_adres_"+b]),$.isEmptyObject(d["salon_adres_"+b])||(a[c].street=d["salon_adres_"+b]),a[c].gpsUrl="https://www.google.com.ua/maps/place/@"+d.gps_coords.replace(/\ /g,"")+",17z/data=!4m2!3m1!1s0x40d4cefec397bd8f:0xd344af779861fc77",a[c].dataFilter=toCodeValue(d.city_name_ru)+" "+toCodeValue(d.city_name_ua);var e=d.gps_coords.replace(/\ /g,"").split(",");a[c].gps_x=e[0],a[c].gps_y=e[1],$.isEmptyObject(d.salon_id)||(a[c].websiteUrl=d.salon_url,a[c].dataFilter=a[c].dataFilter+" data-filter-salon"),$.isEmptyObject(d.service_id)||(a[c].websiteUrl=d.service_url,a[c].dataFilter=a[c].dataFilter+" data-filter-service"),$.isEmptyObject(d.dealers_pro)||(a[c].dataFilter=a[c].dataFilter+" data-filter-pro"),c%3==0&&(a[c].firstInRow=!0),(c+1)%3==0&&(a[c].lastInRow=!0)}),a}function getDealer(a){}function setPredefinedValues(a){var b,c,d,e;b=$.urlParams("get","salon_id"),c=$.urlParams("get","service_id"),d=$.urlParams("get","city_id"),app.config.frontend_app_dealer_id&&(e=app.config.frontend_app_dealer_id),d&&$.each(app.view.allMarkers,function(b,c){return d==c.dealer.city_id?(app.logger.text("predefined city: "+c.dealer.city_name_ua),$("#test-drive-form-map-input-search").val(c.dealer.city_name_ua),a.center=c.dealer.gps_x+","+c.dealer.gps_y,a.zoom=11,void mapInitialize(a)):void 0}),b&&$.each(app.view.allMarkers,function(a,c){return b==c.dealer.salon_id?void markerClick.call(this,c,app.view.allMarkers):void 0}),c&&$.each(app.view.allMarkers,function(a,b){return c==b.dealer.service_id?void markerClick.call(this,b,app.view.allMarkers):void 0}),e&&e>0&&($("#test-drive-form-map-input-search").parent().hide(),$.each(app.view.allMarkers,function(a,b){e==b.dealer.dealers_id?markerClick.call(this,b,app.view.allMarkers):b.visible=!1}))}function markerClick(a,b){app.logger["var"](a.dealer),changeDealerInfo(a.dealer);for(var c=0;c<b.length;c++)b[c].setIcon("/img/ico-marker3.png");a.setIcon("/img/ico-marker2.png");var d=document.getElementById("contactus");d.classList.remove("hidden")}var widget=app.view.getCurrentWidget(),template="/templates/block/page/contact.html";run(),GoogleMapsLoaded=function(){app.view.gMapsLoaded=!0,mapInitialize(app.view.tmpMapData)}},app.view.wfn["contact-form"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=g;f(),e(a)}function c(a){app.logger.func("loadTemplate(data)"),a.kiev=[],$.each(a.dealers,function(b,c){"3"==c.city_id&&a.kiev.push(c)});var b=app.config.frontend_app_files_midified[h];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+h+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+g.uniqueKey).append(a),app.view.afterWidget(g)}function e(a){var b={controller:"dealer",action:"index",city_id:"3"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){app.view.dealers=b,a.dealers=app.view.dealers,c(a)})}function f(){var a=new Date,b=(a.getDate()+1,a.getMonth()+1);10>b&&(b="0"+b);a.getFullYear();window.testDriveData={selected_id:"30","punkt[5]":"Captur","field-lastname":"1","punkt[1]":"WIFIBAR","field-firstname":"2","punkt[2]":"тест","field-secondname":"3","punkt[3]":"WIFIBAR",massive:"Array","punkt[4]":"WIFIBAR","field-email":"6","punkt[6]":"WIFIBAR","field-phone":"7",code_select:"093",code:"",punkt7:"5012553","punkt[8]":"WIFIBAR","punkt[9]":"WIFIBAR","punkt[10]":"yes","punkt[11]":"true","punkt[12]":"1","punkt[13]":"1","submit-val":"1",RenaultDealerDomain:location.hostname}}var g=app.view.getCurrentWidget(),h="/templates/block/page/contact-form.html";a()},app.view.wfn.financing=function(){function run(){app.logger.func("run"),loadData()}function loadData(){app.logger.func("loadData()");var a=widget;a.t=app.view.getTranslationsFromData(a),$.verify.addFieldRules({nameR1:{expected:"42",message:"uk"==app.router.locale?"Wasn't 42uk":"Wasn't 42ru",fn:function(a){return a.val()===a.expected?!0:a.message}}}),loadCars(a)}function mapInitialize(a){var b=new google.maps.LatLng(49.3159955,32.0068446),c=6;a&&app.logger["var"](a),$.isEmptyObject(a)||$.isEmptyObject(a.center)||(b=new google.maps.LatLng(a.center.split(",")[0],a.center.split(",")[1])),!$.isEmptyObject(a)&&a.zoom&&(c=a.zoom);var d={scrollwheel:!1,center:b,zoom:c,mapTypeId:google.maps.MapTypeId.ROADMAP},e=new google.maps.Map(document.getElementById("mapresult"),d);markers=[];var f=document.getElementById("test-drive-form-map-input-search"),g=new google.maps.places.Autocomplete(f,{types:["(cities)"],componentRestrictions:{country:"ua"}});google.maps.event.addListener(g,"place_changed",function(){var a=g.getPlace();if(a.geometry){for(var b,c=0;b=markers[c];c++)b.setMap(null);if(!$.isEmptyObject(g.getPlace())&&!$.isEmptyObject(g.getPlace)&&!$.isEmptyObject(g.getPlace.name)){var d=g.getPlace.name;app.logger["var"](g.getPlace),app.logger.text(d);var f="."+toCodeValue(d);app.logger.text(f),$.isEmptyObject(app.view.$grid)||app.view.$grid.isotope({filter:f}),app.view.mapFilterValue=f}markers=[];var h=new google.maps.LatLngBounds;h.extend(a.geometry.location),e.fitBounds(h),e.setZoom(11)}}),google.maps.event.addListener(e,"bounds_changed",function(){var a=e.getBounds();g.setBounds(a)}),app.view.allMarkers=[],$.each(app.view.dealers,function(b,c){if(!$.isEmptyObject(a)&&!$.isEmptyObject(a.filter)){if("salon"==a.filter&&$.isEmptyObject(c.salon_id))return;
if("service"==a.filter&&$.isEmptyObject(c.service_id))return;if("pro"==a.filter&&$.isEmptyObject(c.dealers_pro))return}if(!c.service_id||c.salon_id){var d=new google.maps.LatLng(c.gps_x,c.gps_y),f=new google.maps.Marker({position:d,map:e,icon:"/img/ico-marker3.png",dealer:c,scale:4});app.view.allMarkers.push(f),google.maps.event.addListener(f,"click",function(){markerClick.call(this,f,app.view.allMarkers)})}})}function loadFormData(data){$.ajax({url:"http://dealers.renault.ua/ru/site/test_drive",success:function(html){var dealersScript=$(html).filter("#all").children().children().children().filter("div.inner-content").children().children()[4];eval($(dealersScript).html()),data.dealers=window.dealers,data.models=[],$(html).filter("#all").children().children().children().filter("div.inner-content").children().children().filter("div.form-item-renault").children().filter("form#form ").find("select.form.required.modelOfInterest.width462").children().each(function(a,b){data.models.push($.trim($(b).val()))});var item=null,items=[];$.each(data.models,function(a,b){item={title:b,img_src:""},$.each(data.items,function(a,c){b==c.title&&(item=c)}),items.push(item)}),data.items=items,loadTemplate(data)}})}function loadTemplate(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[template];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+template+"?v="+b,function(b){renderWidget(b(a))})}function renderWidget(a,b){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+widget.uniqueKey).append(a),app.view.afterWidget(widget),app.view.tmpMapData=b,loadGoogleMaps(),setTimeout(function(){$(".select-dealer-content").slideUp(),$(".form .select-dealer-content, .form .select-dealer-header").attr("data-state","closed"),setDefaultValues(),setPredefinedValues(b)},3e3)}function loadGoogleMaps(){1!=app.view.gMapsLoaded?(app.logger.func("loadGoogleMaps"),$.getScript("https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&language=uk&async=2&callback=GoogleMapsLoaded",function(){})):GoogleMapsLoaded()}function setDefaultValues(){window.testDriveData={selected_id:"","field-firstname":"2","field-secondname":"3","field-lastname":"1","punkt[1]":"","punkt[2]":"","punkt[3]":"","field-email":"6","punkt[6]":"","field-phone":"7",punkt7:"",comment:"",haveacar:"",policy:"true",subscribe:"true",subscribe_sms:"1",subscribe_email:"1","submit-val":"1",RenaultDealerDomain:location.hostname}}function loadTranslation(a){switch(app.router.locale){case"uk":a.Select_this_dealer="Вибрати цього диллера",a.select_date_and_time="Оберіть дату та час",a.Select_date="оберіть дату",a.select_time="оберіть час",a.optional_confirmation="Ми зв'яжемось з Вами щоб підтвердити, що обрані Вами дата та час вільні",a.change_this_datetime="Обрати ці дату та час",a.accost="Звертання",a.Mr="Пан",a.Ms="Пані",a.name="Ім'я",a.surname="Прізвище",a.patronymic="По батькові",a.E_Mail="E-Mail",a.post_code="Індекс",a.settlement="Населений пункт",a.house_number="Номер будинку",a.VIN="VIN <span>(номер кузова, зазначений у свідоцтві<br> про реєстрацію транспортного засобу)</span>",a.phone="Мобільний телефон",a.region="Область",a.street="Вулиця",a.number_of_apartments="Номер квартири",a.The_state_reg_number="Державний реєстраційний номер",a.your_question="Ваше питання",a.Subscribe_to_news="Підписатися на новини Renault",a.consent="Даю свою згоду на обробку зазначених мною вище персональних даних";break;case"ru":a.Select_this_dealer="Выбрать этого диллера",a.select_date_and_time="Выберите дату и время",a.Select_date="выберите дату",a.select_time="выберите время",a.optional_confirmation="Мы свяжемся с Вами, чтобы подтвердить, что выбранные Вами дата и время свободны",a.change_this_datetime="Выбрать эти дату и время",a.accost="Обращение",a.Mr="Г-н",a.Ms="Г-жа",a.name="Имя",a.surname="Фамилия",a.patronymic="Отчество",a.E_Mail="E-Mail",a.post_code="Индекс",a.settlement="Неселённый пункт",a.house_number="Номер дома",a.VIN="VIN <span>( Номер кузова, указанный в свидедельстве<br> о регистрации транспортного средства)</span>",a.phone="Мобильный телефон",a.region="Область",a.street="Улица",a.number_of_apartments="Номер квартиры",a.The_state_reg_number="Государственный регистрационный номер",a.your_question="Ваш вопрос",a.Subscribe_to_news="Подписаться на новости RENAULT",a.consent="Даю своё согласие на обработку указанных мною выше личных данных"}}function loadSalons(a){var b={controller:"salon",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){app.view.dealers=b,loadServices(a)})}function loadServices(a){var b={controller:"service",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){$.each(app.view.dealers,function(a,c){$.each(b,function(d,e){e.gps_coords==c.gps_coords&&e.dealers_id==c.dealers_id&&($.extend(app.view.dealers[a],e),b[d]=!1)})}),$.each(b,function(a,b){$.isEmptyObject(b)||app.view.dealers.push(b)}),a.dealers=getPreparedDealers(app.view.dealers),loadTemplate(a)})}function changeDealerInfo(a){var b=app.router.locale;"uk"==b&&(b="ua");var c='<h4>"'+a["dealers_name_"+b]+'"</h4><h5>Контактна інформація</h5><p>'+a["city_name_"+b]+"<br>"+a["salon_adres_"+b]+"</p><h5>салон</h5><p>"+a.salon_phone+"</p>";$(".map-wrapper").addClass("mw-dealer-selected"),$(".mapitembox").html(c),window.testDriveData.selected_id=a.dealers_id,$("#test-drive-form-select-this-dealer-button").show(),$("#test-drive-form-select-this-dealer-button").click(function(){selectThisDealerButtonClick(a)})}function getPreparedDealers(a){var b=app.router.locale;return"uk"==b&&(b="ua"),$.each(a,function(c,d){a[c].title=d["dealers_name_"+b],a[c].town=d["city_name_"+b],$.isEmptyObject(d["service_adres_"+b])||(a[c].street=d["service_adres_"+b]),$.isEmptyObject(d["salon_adres_"+b])||(a[c].street=d["salon_adres_"+b]),a[c].gpsUrl="https://www.google.com.ua/maps/place/@"+d.gps_coords.replace(/\ /g,"")+",17z/data=!4m2!3m1!1s0x40d4cefec397bd8f:0xd344af779861fc77",a[c].dataFilter=toCodeValue(d.city_name_ru)+" "+toCodeValue(d.city_name_ua);var e=d.gps_coords.replace(/\ /g,"").split(",");a[c].gps_x=e[0],a[c].gps_y=e[1],$.isEmptyObject(d.salon_id)||(a[c].websiteUrl=d.salon_url,a[c].dataFilter=a[c].dataFilter+" data-filter-salon"),$.isEmptyObject(d.service_id)||(a[c].websiteUrl=d.service_url,a[c].dataFilter=a[c].dataFilter+" data-filter-service"),$.isEmptyObject(d.dealers_pro)||(a[c].dataFilter=a[c].dataFilter+" data-filter-pro"),c%3==0&&(a[c].firstInRow=!0),(c+1)%3==0&&(a[c].lastInRow=!0)}),a}function getDealer(a){}function setPredefinedValues(a){var b,c,d,e;b=$.urlParams("get","salon_id"),c=$.urlParams("get","service_id"),d=$.urlParams("get","city_id"),app.config.frontend_app_dealer_id&&(e=app.config.frontend_app_dealer_id),d&&$.each(app.view.allMarkers,function(b,c){return d==c.dealer.city_id?(app.logger.text("predefined city: "+c.dealer.city_name_ua),$("#test-drive-form-map-input-search").val(c.dealer.city_name_ua),a.center=c.dealer.gps_x+","+c.dealer.gps_y,a.zoom=11,void mapInitialize(a)):void 0}),b&&$.each(app.view.allMarkers,function(a,c){return b==c.dealer.salon_id?void markerClick.call(this,c,app.view.allMarkers):void 0}),c&&$.each(app.view.allMarkers,function(a,b){return c==b.dealer.service_id?void markerClick.call(this,b,app.view.allMarkers):void 0}),e&&e>0&&($("#test-drive-form-map-input-search").parent().hide(),$.each(app.view.allMarkers,function(a,b){e==b.dealer.dealers_id?markerClick.call(this,b,app.view.allMarkers):b.visible=!1}))}function markerClick(a,b){app.logger["var"](a.dealer),changeDealerInfo(a.dealer);for(var c=0;c<b.length;c++)b[c].setIcon("/img/ico-marker3.png");a.setIcon("/img/ico-marker2.png");var d=document.getElementById("contactus");d.classList.remove("hidden")}function loadCars(a){var b={controller:"car",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){app.view.models=b,a.models=[],$.each(b,function(b,c){1==c.car_new&&a.models.push(c.car_name)}),loadSalons(a)})}var widget=app.view.getCurrentWidget(),template="/templates/block/page/financing.html";run(),GoogleMapsLoaded=function(){app.view.gMapsLoaded=!0,mapInitialize(app.view.tmpMapData)}},app.view.wfn["find-a-dealer"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=l;a.t=app.view.getTranslationsFromData(a),g(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[m];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+m+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+l.uniqueKey).append(a),app.view.afterWidget(l),e(),setTimeout(function(){k()},3e3)}function e(){1!=app.view.gMapsLoaded?(app.logger.func("loadGoogleMaps"),$.getScript("https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&language=uk&async=2&callback=GoogleMapsLoaded",function(){})):GoogleMapsLoaded()}function f(a){var b=new google.maps.LatLng(49.3159955,32.0068446),c=6;a&&app.logger["var"](a),$.isEmptyObject(a)||$.isEmptyObject(a.center)||(b=new google.maps.LatLng(a.center.split(",")[0],a.center.split(",")[1])),!$.isEmptyObject(a)&&a.zoom&&(c=a.zoom);var d={scrollwheel:!1,center:b,zoom:c,mapTypeId:google.maps.MapTypeId.ROADMAP},e=new google.maps.Map(document.getElementById("mapresult"),d);markers=[];var g=document.getElementById("find-a-dealer-map-input-search"),h=new google.maps.places.Autocomplete(g,{types:["(cities)"],componentRestrictions:{country:"ua"}});google.maps.event.addListener(h,"place_changed",function(){var a=h.getPlace();if(a.geometry){for(var b,c=0;b=markers[c];c++)b.setMap(null);if(!$.isEmptyObject(h.getPlace())&&!$.isEmptyObject(h.getPlace())&&!$.isEmptyObject(h.getPlace().name)){var d=h.getPlace().name;app.logger["var"](h.getPlace()),app.logger.text(d);var f="."+toCodeValue(d);app.logger.text(f),$.isEmptyObject(app.view.$grid)||app.view.$grid.isotope({filter:f}),app.view.mapFilterValue=f}markers=[];var g=new google.maps.LatLngBounds;g.extend(a.geometry.location),e.fitBounds(g),e.setZoom(11)}}),google.maps.event.addListener(e,"bounds_changed",function(){var a=e.getBounds();h.setBounds(a)}),$(g).change(function(){$(this).val()?app.view.initializeMap=!1:(f(),app.view.initializeMap=!0,$.isEmptyObject(app.view.$grid)||app.view.$grid.isotope({filter:"*"}))});var j=[];$.each(app.view.dealers,function(b,c){if(!$.isEmptyObject(a)&&!$.isEmptyObject(a.filter)){if("salon"==a.filter&&$.isEmptyObject(c.salon_id))return;if("service"==a.filter&&$.isEmptyObject(c.service_id))return;if("pro"==a.filter&&$.isEmptyObject(c.dealers_pro))return}var d=new google.maps.LatLng(c.gps_x,c.gps_y),f=new google.maps.Marker({position:d,map:e,icon:"/img/ico-marker3.png",dealer:c,scale:4});j.push(f),google.maps.event.addListener(f,"click",function(){app.logger["var"](f.dealer),i(f.dealer),$("html, body").animate({scrollTop:$("#find-a-dealer-selected-dealer-block").offset().top+$("#find-a-dealer-selected-dealer-block").outerHeight()-$(window).height()});for(var a=0;a<j.length;a++)j[a].setIcon("/img/ico-marker3.png");f.setIcon("/img/ico-marker2.png")})})}function g(a){var b={controller:"salon",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){app.view.dealers=b,h(a)})}function h(a){var b={controller:"service",action:"index"};$.getJSON("http://dealers.renault.ua/platformAjaxRequest.php",b,function(b){$.each(app.view.dealers,function(a,c){$.each(b,function(d,e){e.gps_coords==c.gps_coords&&e.dealers_id==c.dealers_id&&($.extend(app.view.dealers[a],e),b[d]=!1)})}),$.each(b,function(a,b){$.isEmptyObject(b)||app.view.dealers.push(b)}),a.dealers=j(app.view.dealers),c(a)})}function i(a){var b=app.router.locale;"uk"==b&&(b="ua");var c,d=$("#find-a-dealer-selected-dealer-block");d.show(),$("#find-a-dealer-selected-dealer-block-message").hide(),c=a["dealers_name_"+b],d.find(".fdealer_item__head").html(c),c="https://www.google.com.ua/maps/place/@"+a.gps_coords.replace(/\ /g,"")+",17z/data=!4m2!3m1!1s0x40d4cefec397bd8f:0xd344af779861fc77",d.find(".go-to-map").attr("href",c),c=a["city_name_"+b],d.find(".town").html(c),$.isEmptyObject(a["service_adres_"+b])||(c=a["service_adres_"+b]),$.isEmptyObject(a["salon_adres_"+b])||(c=a["salon_adres_"+b]),d.find(".street").html(c),d.find(".salon-title").hide(),d.find(".salon-phone").hide(),d.find(".service-title").hide(),d.find(".service-phone").hide(),d.find(".services-icon-salon").hide(),d.find(".services-icon-service").hide(),d.find(".services-icon-pro").hide(),$.isEmptyObject(a.salon_phone)||(c=a.salon_phone,d.find(".salon-title").show(),d.find(".salon-phone").show(),d.find(".salon-phone").html(c)),$.isEmptyObject(a.service_phone)||(c=a.service_phone,d.find(".service-title").show(),d.find(".service-phone").show(),d.find(".service-phone").html(c)),$.isEmptyObject(a.salon_id)||(d.find(".services-icon-salon").show(),d.find(".salon-service-url-link").attr("href",a.salon_url)),$.isEmptyObject(a.service_id)||(d.find(".services-icon-service").show(),d.find(".salon-service-url-link").attr("href",a.service_url)),$.isEmptyObject(a.dealers_pro)||d.find(".services-icon-pro").show()}function j(a){var b=app.router.locale;return"uk"==b&&(b="ua"),$.each(a,function(c,d){a[c].title=d["dealers_name_"+b],a[c].town=d["city_name_"+b],$.isEmptyObject(d["service_adres_"+b])||(a[c].street=d["service_adres_"+b]),$.isEmptyObject(d["salon_adres_"+b])||(a[c].street=d["salon_adres_"+b]),a[c].gpsUrl="https://www.google.com.ua/maps/place/@"+d.gps_coords.replace(/\ /g,"")+",17z/data=!4m2!3m1!1s0x40d4cefec397bd8f:0xd344af779861fc77",a[c].dataFilter=toCodeValue(d.city_name_ru)+" "+toCodeValue(d.city_name_ua);var e=d.gps_coords.replace(/\ /g,"").split(",");a[c].gps_x=e[0],a[c].gps_y=e[1],$.isEmptyObject(d.salon_id)||(a[c].websiteUrl=d.salon_url,a[c].dataFilter=a[c].dataFilter+" data-filter-salon"),$.isEmptyObject(d.service_id)||(a[c].websiteUrl=d.service_url,a[c].dataFilter=a[c].dataFilter+" data-filter-service"),$.isEmptyObject(d.dealers_pro)||(a[c].dataFilter=a[c].dataFilter+" data-filter-pro"),c%3==0&&(a[c].firstInRow=!0),(c+1)%3==0&&(a[c].lastInRow=!0)}),a}function k(){$("#find-a-dealer-filter-salon").click(function(){f({filter:"salon"});var a=$("#find-a-dealer-filter-salon-title").html();$("#find-a-dealer-filter-selected").html(a.replace("<br>"," ")),$("#find-a-dealer-filter-selected-del").show(),$(".fd_box__selected h4").show(),$(".fd_box__selected-items").show()}),$("#find-a-dealer-filter-service").click(function(){f({filter:"service"});var a=$("#find-a-dealer-filter-service-title").html();$("#find-a-dealer-filter-selected").html(a.replace("<br>"," ")),$("#find-a-dealer-filter-selected-del").show(),$(".fd_box__selected h4").show(),$(".fd_box__selected-items").show()}),$("#find-a-dealer-filter-pro").click(function(){f({filter:"pro"});var a=$("#find-a-dealer-filter-pro-title").html();$("#find-a-dealer-filter-selected").html(a.replace("<br>"," ")),$("#find-a-dealer-filter-selected-del").show(),$(".fd_box__selected h4").show(),$(".fd_box__selected-items").show()}),$("#find-a-dealer-filter-selected-del").click(function(){if(f(),!$.isEmptyObject(app.view.$grid)&&!$.isEmptyObject(app.view.mapFilterValue)){var a=app.view.mapFilterValue;app.view.$grid.isotope({filter:a})}$(".fd_box__list .fd_box__item--active").removeClass("fd_box__item--active"),$("#find-a-dealer-filter-selected").html("*"),$("#find-a-dealer-filter-selected-del").hide(),$(".fd_box__selected h4").hide(),$(".fd_box__selected-items").hide()}),$("#find-a-dealer-filter-selected-refresh").click(function(){if(f(),!$.isEmptyObject(app.view.$grid)&&!$.isEmptyObject(app.view.mapFilterValue)){var a=app.view.mapFilterValue;app.view.$grid.isotope({filter:a})}$(".fd_box__list .fd_box__item--active").removeClass("fd_box__item--active"),$("#find-a-dealer-filter-selected").html("*"),$("#find-a-dealer-filter-selected-del").hide(),$(".fd_box__selected h4").hide(),$(".fd_box__selected-items").hide()}),$(".go-to-local-gps_coords").click(function(){var a=$(this).attr("map-center").replace(/\ /g,""),b=$(this).attr("dealer-id");$.each(app.view.dealers,function(a,c){return b==c.dealers_id?void i(c):void 0}),$("#map-tab-a").click(),$(window).scrollTop("220"),setTimeout(function(){f({center:a,zoom:12})},200)}),$("#map-tab-a").on("click",function(){setTimeout(function(){$(".fd_box__list .fd_box__item--active").click(),app.view.initializeMap&&f()},200)})}var l=app.view.getCurrentWidget(),m="/templates/block/page/find-a-dealer.html";a(),GoogleMapsLoaded=function(){app.view.gMapsLoaded=!0,f()}},app.view.wfn.models=function(){function a(){app.logger.func("run"),b()}function b(){var a={fields:"id,slug,title",where:{domain_id:app.config.frontend_app_default_domain_id}};$.getJSON(app.config.frontend_app_api_url+"/db/model-category",a,function(a){c(a)})}function c(a){app.logger.func("loadData()");var b=f;b.t=app.view.getTranslationsFromData(b),b.catData=a;var c=b.order_by;"desc"==b.sort_order&&(c="-"+c);var e={fields:"id,slug,title,price,thumbnail_base_url,thumbnail_path","per-page":b.count,sort:c,expand:"firstInfo",where:{locale:app.config.frontend_app_locale,domain_id:app.config.frontend_app_domain_id}};b.catData&&b.catData.items&&b.catData.items[0]&&$.urlParams("all").cslug&&$.each(b.catData.items,function(a,c){$.urlParams("all").cslug==c.slug&&(e.category_id=c.id,b.t.title=app.config.frontend_app_t[c.title])}),$.getJSON(app.config.frontend_app_api_url+"/db/models",e,function(a){a.items[0]&&($.extend(b,a),$.each(b.items,function(a,c){b.items[a].previewImg=c.thumbnail_base_url+"/"+c.thumbnail_path,c.firstInfo&&(b.items[a].viewUrl=app.view.helper.preffix+"/models/"+c.firstInfo.slug)}),b.viewAllUrl="#",d(b)),a.items[0]||(e.where.domain_id=app.config.frontend_app_default_domain_id,$.getJSON(app.config.frontend_app_api_url+"/db/models",e,function(a){$.extend(b,a),$.each(b.items,function(a,c){b.items[a].previewImg=c.thumbnail_base_url+"/"+c.thumbnail_path,c.firstInfo&&(b.items[a].viewUrl=app.view.helper.preffix+"/models/"+c.firstInfo.slug)}),b.viewAllUrl="#",d(b)}))})}function d(a){app.logger.func("loadTemplate(data)"),app.logger["var"](a);var b=app.config.frontend_app_files_midified[g];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+g+"?v="+b,function(b){e(b(a))})}function e(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+f.uniqueKey).append(a),app.view.afterWidget(f)}var f=app.view.getCurrentWidget(),g="/templates/block/page/models.html";a()},app.view.wfn.news=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;a.t=app.view.getTranslationsFromData(a);var b=a.order_by;"desc"==a.sort_order&&(b="-"+b);var d={fields:"id,slug,title,description,thumbnail_base_url,thumbnail_path,description,video_base_url,video_path","per-page":a.count,sort:b,where:{locale:app.config.frontend_app_locale,domain_id:app.config.frontend_app_domain_id}};$.getJSON(app.config.frontend_app_api_url+"/db/articles",d,function(b){b.items[0]&&($.extend(a,b),$.each(a.items,function(b,c){a.items[b].previewImg=c.thumbnail_base_url+"/"+c.thumbnail_path,a.items[b].viewUrl=app.view.helper.preffix+"/news/"+c.slug}),a.urlToNews=app.view.helper.preffix+"/news",c(a)),b.items[0]||(d.where.domain_id=app.config.frontend_app_default_domain_id,$.getJSON(app.config.frontend_app_api_url+"/db/articles",d,function(b){$.extend(a,b),$.each(a.items,function(b,c){a.items[b].previewImg=c.thumbnail_base_url+"/"+c.thumbnail_path,a.items[b].viewUrl=app.view.helper.preffix+"/news/"+c.slug}),a.urlToNews=app.view.helper.preffix+"/news",c(a)}))})}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/block/page/news.html";a()},app.view.wfn.promos=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;a.t=app.view.getTranslationsFromData(a);var b=a.order_by;"desc"==a.sort_order&&(b="-"+b);var d={fields:"id,slug,title,description,thumbnail_base_url,thumbnail_path,description,video_base_url,video_path","per-page":a.count,sort:b,where:{locale:app.config.frontend_app_locale,domain_id:app.config.frontend_app_domain_id}};$.getJSON(app.config.frontend_app_api_url+"/db/promos",d,function(b){b.items[0]&&($.extend(a,b),$.each(a.items,function(b,c){a.items[b].previewImg=c.thumbnail_base_url+"/"+c.thumbnail_path,a.items[b].viewUrl=app.view.helper.preffix+"/promo/"+c.slug}),a.urlToNews=app.view.helper.preffix+"/promos",c(a)),b.items[0]||(d.where.domain_id=app.config.frontend_app_default_domain_id,$.getJSON(app.config.frontend_app_api_url+"/db/promos",d,function(b){$.extend(a,b),$.each(a.items,function(b,c){a.items[b].previewImg=c.thumbnail_base_url+"/"+c.thumbnail_path,a.items[b].viewUrl=app.view.helper.preffix+"/promo/"+c.slug}),a.urlToNews=app.view.helper.preffix+"/promos",c(a)}))})}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/block/page/promos.html";a()},app.view.wfn["articles-part"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e,b=a.order_by;"desc"==a.sort_order&&(b="-"+b);var d={fields:"id,slug,title,description,thumbnail_base_url,thumbnail_path,description,video_base_url,video_path","per-page":a.count,sort:b,where:{locale:app.config.frontend_app_locale,domain_id:app.config.frontend_app_domain_id}};$.getJSON(app.config.frontend_app_api_url+"/db/articles",d,function(b){b.items[0]&&($.extend(a,b),$.each(a.items,function(b,c){a.items[b].previewImg=c.thumbnail_base_url+"/"+c.thumbnail_path,a.items[b].viewUrl=app.view.helper.preffix+"/news/"+c.slug,a.items[b].description=c.description}),a.urlToNews=app.view.helper.preffix+"/news",c(a)),b.items[0]||(d.where.domain_id=app.config.frontend_app_default_domain_id,$.getJSON(app.config.frontend_app_api_url+"/db/articles",d,function(b){$.extend(a,b),$.each(a.items,function(b,c){a.items[b].previewImg=c.thumbnail_base_url+"/"+c.thumbnail_path,a.items[b].viewUrl=app.view.helper.preffix+"/news/"+c.slug,a.items[b].description=c.description}),a.urlToNews=app.view.helper.preffix+"/news",c(a)}))})}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/block/part/articles-part.html";a()},app.view.wfn.header=function(){var a="/templates/block/part/header.html";if(!app.view.headerLoaded){app.logger.func("addHeader");var b={fields:"id,slug,title,body,before_body,after_body,on_scenario",where:{slug:"header",locale:app.config.frontend_app_locale,domain_id:app.config.frontend_app_domain_id}};$.getJSON(app.config.frontend_app_api_url+"/db/blocks",b,function(c){if(c.items[0]&&"extend"!=c.items[0].on_scenario){var d=c.items[0].body.replace(/^\[/,"").replace(/\]$/,""),e=JSON.parse(d);e.t=app.view.getTranslationsFromData(e),e.links=app.view.getLinksFromData(e),e.isRu="ru-RU"==app.config.frontend_app_locale?!0:!1,e.isEn="en-US"==app.config.frontend_app_locale?!0:!1,e.isUk="uk-UA"==app.config.frontend_app_locale?!0:!1,e.urlToHome=app.view.helper.preffix+"/",e.urlToLocale=app.view.helper.preffix,e.urlToFrontend=server_config.frontend_app_web_url,e.isUk&&(e.urlToHome="/"),window.menu=e.menu,$.each(e.menu,function(a,b){"@frontend"==b.host&&(e.menu[a].host=app.view.helper.preffix),e.menu[a].submenu&&($.each(e.menu[a].submenu,function(b,c){"@frontend"==c.host&&(e.menu[a].submenu[b].host=app.view.helper.preffix)}),e.menu[a].submenu=e.menu[a].submenu.filter(function(a){return app.view.isDealerBlackListPage("/"+app.router.locale+a.url)?!1:!0})),window.testkey=e.menu[a].submenu}),e.menu=e.menu.filter(function(a){return app.view.isDealerBlackListPage("/"+app.router.locale+a.url)?!1:!0});var f=app.config.frontend_app_files_midified[a];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+a+"?v="+f,function(a){app.logger["var"](e),$(a(e)).insertBefore($("#container")),app.view.headerLoaded=!0,setTimeout(function(){app.view.changeLangSwitchUrls()},2e3)})}if(!c.items[0]||"extend"==c.items[0].on_scenario){b.where.domain_id=app.config.frontend_app_default_domain_id;var g={};c.items[0]&&(c.items[0].before_body&&(g.domain_before_body=c.items[0].before_body),c.items[0].after_body&&(g.domain_after_body=c.items[0].after_body),c.items[0].on_scenario&&(g.domain_on_scenario=c.items[0].on_scenario)),$.getJSON(app.config.frontend_app_api_url+"/db/blocks",b,function(b){var c=b.items[0].body.replace(/^\[/,"").replace(/\]$/,""),b=JSON.parse(c);$.extend(b,g),b.domain_before_body&&b.domain_before_body[0]&&(b.domain_before_body=JSON.parse(b.domain_before_body)[0].text),b.domain_after_body&&b.domain_after_body[0]&&(b.domain_after_body=JSON.parse(b.domain_after_body)[0].text),b.t=app.view.getTranslationsFromData(b),b.links=app.view.getLinksFromData(b),b.isRu="ru-RU"==app.config.frontend_app_locale?!0:!1,b.isEn="en-US"==app.config.frontend_app_locale?!0:!1,b.isUk="uk-UA"==app.config.frontend_app_locale?!0:!1,b.urlToHome=app.view.helper.preffix+"/",b.urlToLocale=app.view.helper.preffix,b.urlToFrontend=server_config.frontend_app_web_url,b.isUk&&(b.urlToHome="/"),$.each(b.menu,function(a,c){"@frontend"==c.host&&(b.menu[a].host=app.view.helper.preffix),b.menu[a].submenu&&($.each(b.menu[a].submenu,function(c,d){"@frontend"==d.host&&(b.menu[a].submenu[c].host=app.view.helper.preffix)}),b.menu[a].submenu=b.menu[a].submenu.filter(function(a){return app.view.isDealerBlackListPage("/"+app.router.locale+a.url)?!1:!0}))}),b.menu=b.menu.filter(function(a){return app.view.isDealerBlackListPage("/"+app.router.locale+a.url)?!1:!0});var d=app.config.frontend_app_files_midified[a];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+a+"?v="+d,function(a){app.logger["var"](b),$(a(b)).insertBefore($("#container")),app.view.headerLoaded=!0,setTimeout(function(){app.view.changeLangSwitchUrls()},2e3)})})}})}},app.view.wfn.footer=function(){var a="/templates/block/part/footer.html";if(!app.view.footerLoaded){app.logger.func("addFooter");var b={fields:"id,slug,title,body,before_body,after_body,on_scenario",where:{slug:"footer",locale:app.config.frontend_app_locale,domain_id:app.config.frontend_app_domain_id}};$.getJSON(app.config.frontend_app_api_url+"/db/blocks",b,function(c){if(c.items[0]&&"extend"!=c.items[0].on_scenario){var d=c.items[0].body.replace(/^\[/,"").replace(/\]$/,""),e=JSON.parse(d);e.t=app.view.getTranslationsFromData(e),e.links=app.view.getLinksFromData(e),e.urlToLocale=app.view.helper.preffix,$.each(e.menu,function(a,b){"@frontend"==b.host&&(e.menu[a].host=app.view.helper.preffix)}),e.menu=e.menu.filter(function(a){return app.view.isDealerBlackListPage("/"+app.router.locale+a.url)?!1:!0});var f=app.config.frontend_app_files_midified[a];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+a+"?v="+f,function(a){app.logger["var"](e),$(a(e)).insertAfter($("#container")),app.view.footerLoaded=!0})}if(!c.items[0]||"extend"==c.items[0].on_scenario){b.where.domain_id=app.config.frontend_app_default_domain_id;var g={};c.items[0]&&(c.items[0].before_body&&(g.domain_before_body=c.items[0].before_body),c.items[0].after_body&&(g.domain_after_body=c.items[0].after_body),c.items[0].on_scenario&&(g.domain_on_scenario=c.items[0].on_scenario)),$.getJSON(app.config.frontend_app_api_url+"/db/blocks",b,function(b){var c=b.items[0].body.replace(/^\[/,"").replace(/\]$/,""),d=JSON.parse(c);$.extend(d,g),d.domain_before_body&&d.domain_before_body[0]&&(d.domain_before_body=JSON.parse(d.domain_before_body)[0].text),d.domain_after_body&&d.domain_after_body[0]&&(d.domain_after_body=JSON.parse(d.domain_after_body)[0].text),d.t=app.view.getTranslationsFromData(d),d.links=app.view.getLinksFromData(d),d.urlToLocale=app.view.helper.preffix,$.each(d.menu,function(a,b){"@frontend"==b.host&&(d.menu[a].host=app.view.helper.preffix)}),d.menu=d.menu.filter(function(a){return app.view.isDealerBlackListPage("/"+app.router.locale+a.url)?!1:!0});var e=app.config.frontend_app_files_midified[a];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+a+"?v="+e,function(a){app.logger["var"](d),$(a(d)).insertAfter($("#container")),app.view.footerLoaded=!0})})}})}},app.view.wfn["bloglist-bottom"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/block/bloglist-bottom.html";a()},app.view.wfn["bloglist-top"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/block/bloglist-top.html";a()},app.view.wfn["i-want-to"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;a.urlSite=app.view.helper.preffix,a.urlToLoadBooking="",$.each(a.buttons,function(b,c){"@frontend"==c.host?a.buttons[b].viewUrl=app.view.helper.preffix+c.url:a.buttons[b].viewUrl=c.url}),a.buttons=a.buttons.filter(function(a){return app.view.isDealerBlackListPage("/"+app.router.locale+a.url)?!1:!0}),c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/block/i-want-to.html";a()},app.view.wfn.social=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()"),e(k)}function c(a){app.logger["var"](a),app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[l];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+l+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+k.uniqueKey).append(a),app.view.afterWidget(k)}function e(a){var b=a.FbPageName,c="https://graph.facebook.com/"+b+"?locale=ru_RU&fields=posts.limit(18){full_picture,message,link,created_time}&access_token=677676795700961|6f7c3417d116450a1ff568ca9e64eed3";FB.api(c,function(b){if(!b||b.error)return"error";obj=b.posts.data,fbItems={};for(var c=0 in obj)fbItems[c]={current_date:h(obj[c].created_time,app.router.locale),full_picture:obj[c].full_picture,link_:obj[c].link,message:j(obj[c].message,app.router.locale,a.wordSlice)};var d=Object.keys(fbItems).map(function(a){return fbItems[a]});a.fbGroup=items_array_chunk(d,2),f(a)})}function f(a){function b(a,b){$.ajax({method:"GET",url:a,dataType:"jsonp",jsonp:"callback",data_app:b,success:function(a){var c=a.data;app.logger["var"](a.data);for(var d=[],e=0;e<c.length;e++)d[e]=[],d[e].title="Instagram Title",
d[e].tbnl=a.data[e].images.standard_resolution.url,d[e].message=i(a.data[e].caption.text,app.router.locale,b.wordSlice),d[e].url=a.data[e].link,d[e].tags=a.data[e].tags;app.logger["var"]("data.data"),app.logger["var"](a.data),app.logger["var"]("data.data"),b.instItemGroup=items_array_chunk(d,2)},error:function(a,b,c){alert("Check you internet Connection")}})}var c="https://api.instagram.com/v1/users/"+a.instUserId+"/media/recent/?client_id=fa8f6abac0704d4d840759aa909201d8&count=18";b(c,a),g(a)}function g(a){function b(a){gapi.client.setApiKey("AIzaSyCWzGO9Vo1eYOW4R4ooPdoFLmNk6zkc0Jw"),gapi.client.load("youtube","v3",function(){var b=a.YtChannelName;d(b,a)})}function d(a,b){b.test="test";var d=gapi.client.youtube.search.list({q:a,part:"snippet",maxResults:18});d.execute(function(a){$("#results").empty();var d=a.result.items,e=[],f=[],g=0;$.each(d,function(a,b){g++,e.push(b.snippet.title),f.push(b.snippet.thumbnails.high.url),vidTitle=b.snippet.title,vidThumburl=b.snippet.thumbnails.high.url});for(var h=[],g=0;g<d.length;g++)h[g]=[],h[g].title=d[g].snippet.title,h[g].tbnl=d[g].snippet.thumbnails.high.url,h[g].videoId=d[g].id.videoId;app.logger["var"](h),b.YtGroup=items_array_chunk(h,2),b.urlToFrontend=server_config.frontend_app_web_url,c(b)})}b(a)}function h(a,b){var c=moment(a).locale(b);return c.fromNow()}function i(a,b,c){return(void 0!==a||""!==a||" "!==a||is_string(a))&&(null!=a.match(/#/)&&(a=a.split("#")[0]),null!=a.match(/\/\//)&&(("uk"==b||void 0===b)&&(a=a.split("//")[0],a=a.split(" ").map(String),a=a.slice(0,c),a=a.join(" ")),"ru"==b&&(a=a.split("//")[1],a=a.split(" ").map(String),a=a.slice(0,c),a=a.join(" ")))),a}function j(a,b,c){if(void 0!==a&&""!==a){if(null==a.match(/\/\//))return a;null!==a.match(/\:\/\//)?(("uk"==b||void 0===b)&&(a=a.split("//")[0]+a.split("//")[1],a=a.split(" ").map(String),a=a.slice(0,c),a=a.join(" "),a=a.replace(new RegExp("http:","g"),"http://")),"ru"==b&&(a=a.split("//")[2]+a.split("//")[3],a=a.split(" ").map(String),a=a.slice(0,c),a=a.join(" "),a=a.replace(new RegExp("http:","g"),"http://"))):(("uk"==b||void 0===b)&&(a=a.split("//")[0],a=a.split(" ").map(String),a=a.slice(0,c),a=a.join(" ")),"ru"==b&&(a=a.split("//")[1],a=a.split(" ").map(String),a=a.slice(0,c),a=a.join(" ")))}else a=" ";return" "!==a&&(a+=" ..."),a}var k=app.view.getCurrentWidget(),l="/templates/block/social.html";a()},app.view.wfn["promo-wysiwyg"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/editor/promo-wysiwyg.html";a()},app.view.wfn.sceditor=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/editor/sceditor.html";a()},app.view.wfn.wysiwyg=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/editor/wysiwyg.html";a()},app.view.wfn["add-image"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/image/add-image.html";a()},app.view.wfn.gallery=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;console.log(a),console.log("data"),c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/image/gallery.html";a()},app.view.wfn["image-slider-revolution"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),app.logger["var"](e),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/image/image-slider-revolution.html";a()},app.view.wfn.intro=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/image/intro.html";a()},app.view.wfn["simple-photo"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/image/simple-photo.html";a()},app.view.wfn.banner=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=f;app.view.href=a.href,app.view.categorie=a.categorie,app.view.subcategorie=a.subcategorie,c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[g];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+g+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+f.uniqueKey).append(a),$(".imgfs > img").click(function(){e()}),app.view.afterWidget(f)}function e(){return"undefined"!=typeof _gaq&&_gaq.push(["trackEvent",app.view.categorie,app.view.subcategorie]),window.open(app.view.href),!1}var f=app.view.getCurrentWidget(),g="/templates/image/banner.html";a()},app.view.wfn["intro-text"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/text/intro-text.html";a()},app.view.wfn["promo-subtitle"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/text/promo-subtitle.html";a()},app.view.wfn["promo-title"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/text/promo-title.html";a()},app.view.wfn["section-text"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/text/section-text.html";a()},app.view.wfn["small-text"]=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/text/small-text.html";a()},app.view.wfn.video=function(){function a(){app.logger.func("run"),b()}function b(){app.logger.func("loadData()");var a=e;c(a)}function c(a){app.logger.func("loadTemplate(data)");var b=app.config.frontend_app_files_midified[f];app.templateLoader.getTemplateAjax(app.config.frontend_app_web_url+f+"?v="+b,function(b){d(b(a))})}function d(a){app.logger.func("renderWidget(html)"),$("#widget-wrapper-"+e.uniqueKey).append(a),app.view.afterWidget(e)}var e=app.view.getCurrentWidget(),f="/templates/video/video.html";a()};